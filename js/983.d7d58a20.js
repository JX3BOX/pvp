(self["webpackChunkpvp"]=self["webpackChunkpvp"]||[]).push([[983],{75015:function(i,t,e){"use strict";e.d(t,{Z:function(){return B}});var l=e(66252),s=e(3577);const A={class:"w-thx"},n={class:"w-thx-panel"},o=(0,l._)("path",{d:"M309.9 140.6h402.9c21.1 0 38.2-17.1 38.2-38.2s-17.1-38.2-38.2-38.2H309.9c-21.1 0-38.2 17.1-38.2 38.2s17.1 38.2 38.2 38.2z",fill:"#61D0ED"},null,-1),a=(0,l._)("path",{d:"M776.3 112.1c-4.7 30.5-30.8 54-62.7 54H309.1c-31.8 0-58-23.5-62.7-54-46.2 19.1-78.7 64.5-78.7 117.6v602.7c0 70.3 57 127.3 127.3 127.3h432.7c70.3 0 127.3-57 127.3-127.3V229.7c0-53.1-32.5-98.6-78.7-117.6zm-47.9 572.1h-434c-21.1 0-38.2-17.1-38.2-38.2s17.1-38.2 38.2-38.2h433.9c21.1 0 38.2 17.1 38.2 38.2s-17.1 38.2-38.1 38.2zm0-173h-434c-21.1 0-38.2-17.1-38.2-38.2s17.1-38.2 38.2-38.2h433.9c21.1 0 38.2 17.1 38.2 38.2s-17.1 38.2-38.1 38.2zm0-173h-434c-21.1 0-38.2-17.1-38.2-38.2s17.1-38.2 38.2-38.2h433.9c21.1 0 38.2 17.1 38.2 38.2s-17.1 38.2-38.1 38.2z",fill:"#61D0ED"},null,-1),r=[o,a];function c(i,t,e,o,a,c){const u=(0,l.up)("boxcoin-admin"),d=(0,l.up)("Like"),p=(0,l.up)("fav"),h=(0,l.up)("boxcoin-user"),m=(0,l.up)("el-tooltip"),k=(0,l.up)("BoxcoinRecords"),g=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)("div",A,[(0,l._)("div",n,[i.hasRight&&e.adminBoxcoinEnable&&i.boxcoin_enable?((0,l.wg)(),(0,l.j4)(u,{key:0,postId:e.postId,postType:e.postType,userId:e.userId,max:i.admin_max,min:i.admin_min,own:i.admin_left,total:i.admin_total,points:i.admin_points,authors:e.authors,onUpdateRecord:c.updateRecord,client:e.client},null,8,["postId","postType","userId","max","min","own","total","points","authors","onUpdateRecord","client"])):(0,l.kq)("",!0),(0,l.Wm)(d,{postId:e.postId,postType:e.postType},null,8,["postId","postType"]),(0,l.Wm)(p,{postId:e.postId,postType:e.postType,postTitle:e.postTitle},null,8,["postId","postType","postTitle"]),e.userBoxcoinEnable&&i.boxcoin_enable&&e.allowGift?((0,l.wg)(),(0,l.j4)(h,{key:1,postId:e.postId,postType:e.postType,boxcoin:i.boxcoin,userId:e.userId,own:i.user_left,points:i.user_points,authors:e.authors,onUpdateRecord:c.updateRecord,client:e.client},null,8,["postId","postType","boxcoin","userId","own","points","authors","onUpdateRecord","client"])):(0,l.kq)("",!0),(0,l.Wm)(m,{effect:"dark",content:"æ‰“èµè®°å½•",placement:"top-start"},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.iD)("svg",{class:(0,s.C_)(["icon","u-record-icon"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"200",height:"200","svg-inline":"",onClick:t[0]||(t[0]=(...i)=>c.onRecord&&c.onRecord(...i)),role:"presentation",focusable:"false",tabindex:"-1"},r))])),_:1})]),(0,l.Wm)(g,{modelValue:i.showDrawer,"onUpdate:modelValue":t[1]||(t[1]=t=>i.showDrawer=t),title:"æ‰“èµè®°å½•","append-to-body":""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{postId:e.postId,postType:e.postType,postClient:e.client,cacheRecord:i.cacheRecord,mode:e.mode,"onUpdate:boxcoin":c.updateBoxcoin},null,8,["postId","postType","postClient","cacheRecord","mode","onUpdate:boxcoin"])])),_:1},8,["modelValue"])])}var u=e(63553),d=e(57039),p=e(65801),h=e(5856),m=e(81128),k=e(49e3),g=e(50855),v={name:"SimpleThx",components:{Like:u.Z,Fav:d.Z,BoxcoinAdmin:p.Z,BoxcoinUser:h.Z,BoxcoinRecords:m.Z},props:{type:{type:String,default:"normal"},postId:{type:Number,default:0},postType:{type:String,default:""},postTitle:{type:String,default:""},userId:{type:Number,default:0},authors:{type:Array,default:()=>[]},mode:{type:String,default:"normal"},client:{type:String,default:"std"},allowGift:{type:[Number,Boolean],default:1},adminBoxcoinEnable:{type:Boolean,default:!1},userBoxcoinEnable:{type:Boolean,default:!1},presetConfig:{type:Object,default:()=>({})}},data:function(){return{boxcoin:0,hasRight:k.Z.getInfo().group>=32,user:k.Z.getInfo(),admin_max:0,admin_min:0,admin_left:0,admin_total:0,admin_points:[100],user_left:0,user_points:[100],cacheRecord:null,boxcoin_enable:0,showDrawer:!1}},computed:{post_keys:function(){return[this.postId,this.postType]}},watch:{post_keys:{immediate:!0,deep:!0,handler:function(){this.postType&&this.postId&&this.loadBoxcoinConfig()}}},methods:{loadBoxcoinConfig:function(){if(Object.keys(this.presetConfig)?.length)return this.admin_max=this.presetConfig.admin_max||0,this.admin_min=this.presetConfig.admin_min||0,this.admin_points=this.presetConfig.admin_points||[10,1e3],this.admin_left=this.presetConfig.admin_left||0,this.admin_total=this.presetConfig.admin_total||0,this.user_points=this.presetConfig.user_points||[10,1e3],this.user_left=this.presetConfig.user_left||0,void(this.boxcoin_enable=this.presetConfig.boxcoin_enable||0);k.Z.isLogin()&&(0,g.PD)(this.postType).then((i=>{this.admin_max=i.data.data.limit.admin_max||0,this.admin_min=i.data.data.limit.admin_min||0,this.admin_points=i.data.data.limit.admin_points||[10,1e3],this.admin_left=i.data.data.asManagerBoxCoinRemain||0,this.admin_total=i.data.data.asManagerBoxCoinTotal||0,this.user_points=i.data.data.limit.user_points||[10,1e3],"origin"==this.client?this.user_left=i.data.data.asUserBoxCoinRemainOrigin+i.data.data.asUserBoxCoinRemainAll:"std"==this.client?this.user_left=i.data.data.asUserBoxCoinRemainStd+i.data.data.asUserBoxCoinRemainAll:this.user_left=i.data.data.asUserBoxCoinRemainAll+i.data.data.asUserBoxCoinRemainStd+i.data.data.asUserBoxCoinRemainOrigin})),(0,g.hq)().then((i=>{this.boxcoin_enable=!!~~i.data?.data?.val}))},updateRecord:function(i){this.cacheRecord=i},onRecord:function(){this.showDrawer=!0},updateBoxcoin:function(i){this.boxcoin=i}}},w=e(83744);const f=(0,w.Z)(v,[["render",c]]);var B=f},93983:function(i,t,e){"use strict";e.r(t),e.d(t,{default:function(){return he}});var l=e(66252);function s(i,t,e,s,A,n){const o=(0,l.up)("MartialArts"),a=(0,l.up)("ListLayout");return(0,l.wg)(),(0,l.j4)(a,null,{default:(0,l.w5)((()=>[(0,l.Wm)(o)])),_:1})}var A=e(24239),n=e(60199),o=e(3577),a=e(49963),r="data:image/png;base64,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",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAOCAYAAAA1+Nx+AAABUklEQVQ4jZ3UsUocURQG4G9kg5DERF2wiKS3iHZpUliIXZ4gYJFniEllYYpYWCQv4GMIsTAQUti4nQqpI5gmyLKysqsTnTAyK9e7M9Hxh+GeuZzz/+f83HuTjz931MHL5vRVdu8iXe+m52sn6dlJJ+1r9061e12d/qnueV968VeGkVrsN/Ea3zD/v6QGxvAAo3iIR3iMJ3iKieKbRLN1fJSvky/Gp/L6Z9jEBlZwFgvkE2RFnBRxNtTGMJKgJudYxi5mywRCJNWc16jKmUML70LeUCDuPovWJPqPY4XNn7GN51UThOOHuIt1AyxgD2/KTlFMVGXJnexslBTc1nmZVTG+4y0O7ztBViGUH9P3WMzJFfegijjeD4WSQGSwv4+lwvtr1LnJZQ3ke5f4kr8iMflggm4NkfAtOsBvfMCPqvzG6syrOvy+/vk1CLfwCZ3KZPwDV85YJMw6X1AAAAAASUVORK5CYII=",u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABp1BMVEX////M29a7zMyYurdOcW4WNjQPJyUMIiALHh2CqaYZPzwOKCY0XVVntqZ/2caH5NKI5dN/2MYOJyUXOzhtjosXOzgVLitquaiH5dCH5NFsvKsYMzAXPDkZREAVMS54z714z70qWlcRMC1pualpuKdwmpcYQ0AxXVWG49A3bmkUODVksaIlY14SNDF+1sQjYVwRMzCK5dMiYFsSNTKJ5dKF4c8SNjMiYFsTOTZ91cR71MEWQj5hrp5hrp4bUEsvXlcaTUkgW1YXQz9jsqMjYVwcU08YQT5zybh0yrghX1obUU0YQz9isKFksqMaRUEoZF8hX1ocVVAYR0MsXVVfq5x81MKK5dOF4c960sAtXlcYRkMcVE8gXVgfW1YcU08ZSkYWQz8VQT0VQT4WQ0AZSkYbUk4lY14hX1ogXlkfXVgfXVgfXVh81MB1yrdyxbF918Nyx7Nww69quKRcoY5Vk4NTj4BjrJq19fXI+Pi49vZntKBdmYy/9/ddmIpvwa1inpLD9/dfpZNwsKRvrqRuvqtbno6CxbqG4tBsvKhXmIeT2s+H49H////gTfA6AAAAbHRSTlMAAQIDBxUpOkIEEjN3yO/9/e80EwUYTc3+/s9QGRZR4+QNPNDQBSGF/gs80RJV8xdj/Rtn/vxnGmL19FTb3D+kQCpq4RhBiO/vIk+O5OWQDyZNfLXk+P7997V+Tyg+XXuPmJiPel0QKDdCR0Go4WyoAAAAAWJLR0QAiAUdSAAAAAFvck5UAc+id5oAAAF2SURBVBjTXZFnV8IwGIWbAAKKew9U0IKBIuBEUXFUtC7ce+/RFoJaEZGhiIB/2rYoHH0+PslJ3ntfgpABACpEIABEAQCVqiK1RqMuUilh/gBoi0t0pWXlFZWluqrqGvBra+vqG1iO5zm2sam5RQtyVt/a5g9gmYC/vVUve2gwdvh5/APv7zQaoHiZNJm7AjhPoMtsIgEBkMXKBu8fHmUe7oOs1YIAASlbNyc8hX54FrhuGwUJhd3h5MMvkZyNvIZ5p8OuIBQ9vX18VIjFJRuPCVG+f2BQ0q4hDkcTb5J+T0QxN+yStN09wmKc/EiFQqmPJMbsqFt8BFJjnk9xwHQmm82kxQE/PePilwBNTE5JcdKCkJbiTE1OiAMCkp72zhTCz3qnaTEOAREzN7/wlavqa3FpjkFQrsq3vLK6tr6xubW9vrO7t+/7rdDHHBweHZ+cnp1fHDCX2nzhiL66vrm9vbu+opG2sB5IIoruGbRTiIR/tvlvxd/2r3IHP0Dx6wAAAABJRU5ErkJggg==",d="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAh1BMVEUAAAAkPDYgNC8rTEQqj3YvWU8wYVUqi3MsUUgxb2AsUEcEBgYueWcqinIrTkUcLSktf2sLERAwZFgxY1YwcmIrh3EtUUgkPjgte2gufGgue2ksgm0IDAswX1Mrh3AtU0olPjgsg20UHxwufmotU0kqjHQvX1MpkngvWE4qS0MiODMwspL///8bb2IYAAAAK3RSTlMAV0pz84yc7ny6eQjQ7XY/3BejocHqfFrW1dbiEJfof1rjKtt/8Jn1inBQpmtkuQAAAAFiS0dELLrdcasAAAABb3JOVAHPoneaAAAAgUlEQVQ4y+XRuxKCQAyF4aAIoqK4C94RBLme938/GCoLkjQWznja/yt2NkQ/Omch96W7ErvnYy31wAc2fN7uQgB7th8igAFHY6yNE7DA4mMqmHuk911w0sDcTxoNnKPL9XYXwLRH+pxAxt8ifymAinK81pukxZUCqG5aGVDX079tAGBAGQAEcdhlAAAAAElFTkSuQmCC",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAACjUlEQVQ4jdWUTWsTURSGn/lKZqJtE2tFqKA1WKqWipCAbrqQLlrsX6irigpC6R9RXIgUdaEu3AvSLkRQwU0Cil/dNLUFCwVtm1bbTCbzIecmE2oS93rhzgx37nnmPec9d/jnhxYLnHp85w+t2XzuDDANTAADjeVlYAF4UCoUv+zf/+TKjLqbrRln87kEcAu4AehRFDXfaZp2GpA5k83n7gOzpUKxsj/e7AB7DowJyK3s4rkuQRAIDNO0SNg2SdvRgWvAqWw+N1EqFL2YobcIvC0wAZQ3f7BTLpPSLY5njiqo79eo7P7i5/YWYRjK/kuNbGgDZvO5s/LVKAzZKW/gVvboS/UwMTKKpRt4nketVsP3faquy055kzAIiKLoeiO2TeF0FEVGpbKHV/UY6O1n/NwolmESBqFSJ7AY6lWruK4qn9Ewr62G43KpVasM92fJnRhuvrg4eF7N1vG0uIDtpKS+EjvbCjwpF9/3+PhtiXcri6puYo4YEk/pNF3XMAwT07Iaa/XYjm0Td4ls1HXJJlJQmWJEHWzU69XsYrxOwOUoioZM02TqwmRbeq2juPKZpY21eHW1E3BB07ShhO3w6O0zpSZWJoaMHBtUdQyjkFeLBVa31unqScexL+KH/S4/BALbdkgkk4hSy7LUXRpaN3Rqgc/8+9d83VgjkUjg1A0J5Ci2AUuF4idN0+Z0w6A7fYikbTehElwLA+Y/vOH73rZytjvTi6ar8DmJ/ZspYv2grutjXT0Zqm5FHT1VpK11DPWxNLZzIHb3ZdwunVKmcSYvA3eBMGk7dKUzpHv7yBw+olQ5qYMCk3M3B0zuP8edFMbQm9l87h5wVRpe0zTpM1lfaRggv69mmv/RAH4DUWsGx+xBblsAAAAASUVORK5CYII=";const h={class:"p-martial-content"},m={class:"p-martial-arts"},k={class:"m-martial-skills"},g={class:"u-title"},v={class:"u-title-name"},w=(0,l._)("img",{src:r,class:"u-title-img",alt:""},null,-1),f={class:"m-skills"},B={key:0,class:"m-connect"},D=(0,l._)("img",{class:"u-img",src:c},null,-1),C=[D],y=["onClick"],S={key:0},I=["src","alt","onMousemove"],_=["title"],b=["onClick"],Q=["onClick"],x=["onClick"],R={class:"m-talent-box qx-container"},E={key:0,class:"m-martial-extend"},U={class:"m-mount-info"},M={class:"m-pasv"},Y=["src","alt","title"],F=["title"],T={class:"m-zhenfa"},G={class:"m-zhenfa-info"},W=["src","alt","title"],K=["innerHTML"],L=["src","alt","title"],O=["title"],P={class:"m-recipe-detail"},q=["href"],j=["src"],V=["onClick"];function N(i,t,e,s,A,n){const r=(0,l.up)("skill-item-v2"),c=(0,l.up)("el-popover"),D=(0,l.up)("TalentRecommend"),N=(0,l.up)("el-tooltip"),H=(0,l.up)("skill-audio"),z=(0,l.up)("skillWiki"),J=(0,l.up)("SpecialSkill"),Z=(0,l.Q2)("loading");return(0,l.wg)(),(0,l.iD)("div",h,[(0,l.wy)((0,l._)("div",m,[(0,l.wy)(((0,l.wg)(),(0,l.iD)("div",k,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.kungfu_skills,((i,t)=>{var e;return(0,l.wg)(),(0,l.iD)("div",{class:"m-martial-skill",key:t},[(0,l._)("div",g,[(0,l._)("span",v,(0,o.zw)(null===(e=i[0])||void 0===e?void 0:e.kungfu_name),1),w]),(0,l._)("div",f,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i,((e,s)=>{var h,m;return(0,l.wg)(),(0,l.iD)(l.HY,{key:s},[s>0?((0,l.wg)(),(0,l.iD)(l.HY,{key:0},[i[s-1].skill_id==e.prev?((0,l.wg)(),(0,l.iD)("div",B,C)):(0,l.kq)("",!0)],64)):(0,l.kq)("",!0),e.belong?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:1,class:(0,o.C_)(["m-skill",{"u-not-mount":!n.isCurrentMountSkill(e.skill),"is-right":e.firstRight}]),onClick:i=>n.isCurrentMountSkill(e.skill)&&n.setSkill(e.skill)},[(0,l.Wm)(c,{width:"400px","show-after":100,"hide-after":0,"show-arrow":!1,offset:0,"popper-class":"m-skill-pop",placement:"bottom-start"},{reference:(0,l.w5)((()=>[(0,l._)("div",{class:(0,o.C_)(["u-skill",{active:n.activeSkill==e.skill.SkillID}])},[(0,l._)("img",{class:"u-skill-icon",src:n.iconLink(e.skill.IconID,this.client),alt:e.skill.IconID,onMousemove:i=>n.showSkill(e.skill)},null,40,I),(0,l._)("span",{class:"u-name",title:e.skill.Name},(0,o.zw)(e.skill.Name),9,_)],2)])),default:(0,l.w5)((()=>[A.popover_skill?((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)(r,{item:A.popover_skill},null,8,["item"])])):(0,l.kq)("",!0)])),_:2},1024),n.getSkillRecipe(null===(h=e.skill)||void 0===h?void 0:h.SkillID).length?((0,l.wg)(),(0,l.iD)("img",{key:0,class:"u-icon",src:u,ref_for:!0,ref:i=>n.setRefs(i,e.skill),onClick:(0,a.iM)((i=>{var t;return n.showRecipe(null===(t=e.skill)||void 0===t?void 0:t.SkillID)}),["stop"])},null,8,b)):(0,l.kq)("",!0),A.audios[null===(m=e.skill)||void 0===m?void 0:m.SkillID]?((0,l.wg)(),(0,l.iD)("img",{key:1,class:"u-icon-audio",src:d,onClick:(0,a.iM)((i=>{var t;return n.showAudio(null===(t=e.skill)||void 0===t?void 0:t.SkillID,i.target)}),["stop"])},null,8,Q)):(0,l.kq)("",!0),A.skillSwitchList[e.switchBelong||e.skill_id]?((0,l.wg)(),(0,l.iD)("img",{key:2,class:"u-icon-switch",src:p,onClick:(0,a.iM)((i=>n.showSkillSwitch(e,t,s,i.target)),["stop"])},null,8,x)):(0,l.kq)("",!0)],10,y))],64)})),128))])])})),128)),(0,l.wy)((0,l._)("div",R,null,512),[[a.F8,n.subtype&&"é€šç”¨"!==n.subtype]])])),[[Z,A.loading]]),n.subtype&&"é€šç”¨"!==n.subtype?((0,l.wg)(),(0,l.iD)("div",E,[(0,l._)("div",U,[(0,l._)("div",M,[(0,l.Wm)(c,{width:"450px","popper-class":"m-pasv-pop",effect:"dark","show-arrow":!1},{reference:(0,l.w5)((()=>[(0,l._)("div",{class:(0,o.C_)(["m-pasv",{active:n.activeSkill==n.pasvSkill.SkillID}])},[(0,l._)("img",{src:n.showMountIcon(n.mountid),alt:n.mountid,title:n.pasvSkill.Name,class:"u-pasv-pic",onClick:t[0]||(t[0]=i=>n.setSkill(n.pasvSkill))},null,8,Y),(0,l._)("span",{class:"u-name",title:n.subtype},(0,o.zw)(n.subtype),9,F)],2)])),default:(0,l.w5)((()=>[(0,l.Wm)(r,{item:n.pasvSkill},null,8,["item"])])),_:1})]),(0,l._)("div",T,[(0,l.Wm)(c,{width:"500px","popper-class":"m-pasv-pop",effect:"dark","show-arrow":!1},{reference:(0,l.w5)((()=>[(0,l._)("div",{class:(0,o.C_)(["m-pasv",{active:n.activeSkill==n.formationSkill.SkillID}])},[(0,l._)("img",{src:n.iconLink(n.formationSkill.IconID),alt:n.formationSkill.IconID,title:n.formationSkill.Name,class:"u-pasv-pic",onClick:t[1]||(t[1]=i=>n.setSkill(A.formation_skill.skill[0]))},null,8,L),(0,l._)("span",{class:"u-name",title:n.formationSkill.Name},(0,o.zw)(n.formationSkill.Name),9,O)],2)])),default:(0,l.w5)((()=>[(0,l._)("div",G,[(0,l._)("div",{class:"u-zhenfa-bg",style:(0,o.j5)(n.zhenfaBg)},[(0,l._)("img",{src:n.iconLink(n.formationSkill.IconID),alt:n.formationSkill.IconID,title:n.formationSkill.Name,class:"u-pic"},null,8,W)],4),(0,l._)("div",{class:"u-desc",innerHTML:n.formationSkillDesc},null,8,K)])])),_:1})])]),(0,l.Wm)(D)])):(0,l.kq)("",!0),(0,l.Wm)(c,{visible:A.visiblePopover,"virtual-ref":A.iconRef,trigger:"manual",transition:"el-zoom-in-top",width:226,"popper-class":"m-recipe-pop","virtual-triggering":"",placement:"right",effect:"dark","show-arrow":!1,offset:0,"popper-options":{closeOnDocumentClick:!0}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.selectedRecipe,(i=>((0,l.wg)(),(0,l.j4)(N,{key:i.idKey,"popper-class":"m-recipe-tooltip",placement:"top"},{content:(0,l.w5)((()=>[(0,l._)("div",P,[(0,l._)("div",{class:(0,o.C_)(["u-name","isQuality-"+i.Quality])},(0,o.zw)(i.Name),3),(0,l._)("div",null,(0,o.zw)(i.Desc),1)])])),default:(0,l.w5)((()=>[(0,l._)("a",{class:"u-recipe-item",href:n.recipeLink(i)},[(0,l._)("img",{src:n.iconLink(i.IconID),class:"u-icon",alt:""},null,8,j)],8,q)])),_:2},1024)))),128))])),_:1},8,["visible","virtual-ref"]),(0,l.Wm)(c,{visible:A.visibleAudioPopover,"virtual-ref":A.audioIconRef,"virtual-triggering":"",trigger:"manual",transition:"el-zoom-in-top","popper-class":"m-audio-pop",placement:"right",effect:"dark",width:320,"show-arrow":!1,offset:0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.currentAudios,(i=>((0,l.wg)(),(0,l.j4)(H,{class:"u-audio",src:n.audioUrl(i.file),remark:i.remark,key:i.file},null,8,["src","remark"])))),128))])),_:1},8,["visible","virtual-ref"]),(0,l.Wm)(c,{visible:A.skillSwitchPopover,"virtual-ref":A.skillSwitchRef,"virtual-triggering":"",trigger:"manual",transition:"el-zoom-in-top",placement:"right","popper-class":"m-audio-pop",effect:"dark",width:320,"show-arrow":!1,offset:0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.skillSwitchData.list,((i,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,style:{cursor:"pointer"},onClick:t=>n.skillSwitch(i)},(0,o.zw)(i.skill.Name),9,V)))),128))])),_:1},8,["visible","virtual-ref"])],512),[[a.F8,!A.isSpecialSkill]]),(0,l.Wm)(z,{ref:"skillWiki","is-pasv-skill":n.activeSkill==n.pasvSkill.SkillID},null,8,["is-pasv-skill"]),(0,l.Wm)(J,{mount:n.mountid},null,8,["mount"])])}e(57658);var H=e(18371);function z(i){return(0,H.qT)().get("/bps/recipe",{params:i})}function J(i){return(0,H.qT)().get("/v2/kungfu/panel",{params:i})}var Z=e(2262),X=e(96486);const $={class:"m-skill-item"},ii={class:"u-header"},ti=["innerHTML"],ei={class:"u-desc-box"},li={key:0,class:"u-desc__special"},si=["innerHTML"],Ai=["innerHTML"],ni={key:3,class:"u-desc__simple"};function oi(i,t,e,s,A,n){var a,r;return(0,l.wg)(),(0,l.iD)("div",$,[(0,l._)("div",ii,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.headerHtml,((i,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"u-header-line",key:t},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i,((i,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,innerHTML:i},null,8,ti)))),128))])))),128))]),(0,l._)("div",ei,[e.item.SpecialDesc?((0,l.wg)(),(0,l.iD)("div",li,(0,o.zw)(e.item.SpecialDesc),1)):(0,l.kq)("",!0),null!==(a=e.item.parse)&&void 0!==a&&a.desc?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"u-desc",innerHTML:n.format(null===(r=e.item.parse)||void 0===r?void 0:r.desc)},null,8,si)):e.item.Desc?((0,l.wg)(),(0,l.iD)("div",{key:2,class:"u-desc",innerHTML:n.format(e.item.Desc)},null,8,Ai)):(0,l.kq)("",!0),e.item.SimpleDesc?((0,l.wg)(),(0,l.iD)("div",ni,(0,o.zw)(e.item.SimpleDesc),1)):(0,l.kq)("",!0)])])}var ai={name:"SkillItemV2",props:{item:{type:Object,default:()=>({})},concise:{type:Boolean,default:!1}},computed:{headerHtml(){var i;if(null===(i=this.item)||void 0===i||!i.parse)return[];const t=this.item.parse;return t.tooltip}},methods:{format:function(i){return null===i||void 0===i?void 0:i.replace(/\\n/g,"\n")}}},ri=e(83744);const ci=(0,ri.Z)(ai,[["render",oi],["__scopeId","data-v-7e161c58"]]);var ui=ci,di=e(91254),pi=e(10910),hi=e(43806),mi=JSON.parse('{"$$":{"å†°å¿ƒè¯€":"ä¸ƒç§€","äº‘è£³å¿ƒç»":"ä¸ƒç§€","èŠ±é—´æ¸¸":"ä¸‡èŠ±","ç¦»ç»æ˜“é“":"ä¸‡èŠ±","æ¯’ç»":"äº”æ¯’","è¡¥å¤©è¯€":"äº”æ¯’","èŽ«é—®":"é•¿æ­Œ","ç›¸çŸ¥":"é•¿æ­Œ","å‚²è¡€æˆ˜æ„":"å¤©ç­–","é“ç‰¢å¾‹":"å¤©ç­–","æ˜“ç­‹ç»":"å°‘æž—","æ´—é«“ç»":"å°‘æž—","ç„šå½±åœ£è¯€":"æ˜Žæ•™","æ˜Žå°Šç‰ç’ƒä½“":"æ˜Žæ•™","åˆ†å±±åŠ²":"è‹äº‘","é“éª¨è¡£":"è‹äº‘","ç´«éœžåŠŸ":"çº¯é˜³","å¤ªè™šå‰‘æ„":"çº¯é˜³","å¤©ç½—è¯¡é“":"å”é—¨","æƒŠç¾½è¯€":"å”é—¨","é—®æ°´è¯€":"è—å‰‘","å±±å±…å‰‘æ„":"è—å‰‘","ç¬‘å°˜è¯€":"ä¸å¸®","åŒ—å‚²è¯€":"éœ¸åˆ€","å‡Œæµ·è¯€":"è“¬èŽ±","éšé¾™è¯€":"å‡Œé›ª","å¤ªçŽ„ç»":"è¡å¤©","æ— æ–¹":"è¯å®—","çµç´ ":"è¯å®—","å­¤é”‹è¯€":"åˆ€å®—","å±±æµ·å¿ƒè¯€":"ä¸‡çµ","é€šç”¨":"æ±Ÿæ¹–"}}'),ki=JSON.parse('{"å¤©ç­–":{"school_id":1,"force_id":3,"mounts":[10026,10062],"client":["all","std","origin"]},"ä¸‡èŠ±":{"school_id":2,"force_id":2,"mounts":[10021,10028],"client":["all","std","origin"]},"çº¯é˜³":{"school_id":3,"force_id":4,"mounts":[10014,10015],"client":["all","std","origin"]},"ä¸ƒç§€":{"school_id":4,"force_id":5,"mounts":[10081,10080],"client":["all","std","origin"]},"å°‘æž—":{"school_id":5,"force_id":1,"mounts":[10003,10002],"client":["all","std","origin"]},"è—å‰‘":{"school_id":6,"force_id":8,"mounts":[10144,10145],"client":["all","std","origin"]},"ä¸å¸®":{"school_id":7,"force_id":9,"mounts":[10268],"client":["all","std","origin"]},"æ˜Žæ•™":{"school_id":8,"force_id":10,"mounts":[10242,10243],"client":["all","std","origin"]},"äº”æ¯’":{"school_id":9,"force_id":6,"mounts":[10175,10176],"client":["all","std","origin"]},"å”é—¨":{"school_id":10,"force_id":7,"mounts":[10224,10225],"client":["all","std","origin"]},"è‹äº‘":{"school_id":18,"force_id":21,"mounts":[10389,10390],"client":["all","std"]},"é•¿æ­Œ":{"school_id":19,"force_id":22,"mounts":[10447,10448],"client":["all","std"]},"éœ¸åˆ€":{"school_id":20,"force_id":23,"mounts":[10464],"client":["all","std"]},"è“¬èŽ±":{"school_id":21,"force_id":24,"mounts":[10533],"client":["all","std"]},"å‡Œé›ª":{"school_id":22,"force_id":25,"mounts":[10585],"client":["all","std"]},"è¡å¤©":{"school_id":23,"force_id":211,"mounts":[10615],"client":["all","std"]},"è¯å®—":{"school_id":24,"force_id":212,"mounts":[10627,10626],"client":["all","std"]},"åˆ€å®—":{"school_id":26,"force_id":213,"mounts":[10698],"client":["all","std"]},"ä¸‡çµ":{"school_id":29,"force_id":214,"mounts":[10756],"client":["all","std"]}}'),gi=e(89847),vi=e(957);const wi={class:"m-wiki"},fi={class:"m-skill-wiki"},Bi={class:"m-wiki-post-panel"},Di={class:"head-title"},Ci={class:"u-txt"},yi={key:0,class:"u-skill-ID"},Si=["href"],Ii=(0,l._)("span",null,"å®Œå–„æŠ€èƒ½ç™¾ç§‘",-1),_i={key:0,class:"m-panel-body"},bi={class:"m-wiki-meta"},Qi={class:"u-meta"},xi=(0,l._)("em",{class:"u-label"},"å‚ä¸Žè´¡çŒ®",-1),Ri=["href"],Ei=["src","alt","title"],Ui={class:"u-meta"},Mi=(0,l._)("em",{class:"u-label"},"æ›´æ–°æ—¶é—´",-1),Yi={class:"u-value"},Fi=["innerHTML"],Ti={key:1,class:"m-wiki-post-empty m-panel-body"},Gi={key:0,class:"no_skill_post"},Wi=(0,l._)("span",null,"æš‚æ— ç™¾ç§‘å†…å®¹",-1),Ki={key:1,class:"no_active_skill"},Li=(0,l._)("span",null,"è¯·å…ˆé€‰æ‹©æŠ€èƒ½åŽæŸ¥çœ‹æŠ€èƒ½ç™¾ç§‘",-1),Oi=[Li],Pi={key:2,class:"m-wiki-signature"},qi={class:"m-revisions-panel"},ji={key:0,class:"u-empty"},Vi={key:0},Ni={key:1},Hi={key:2},zi={key:1,class:"m-histories"},Ji=(0,l._)("tr",null,[(0,l._)("th",null,"ç‰ˆæœ¬"),(0,l._)("th",null,"æ›´æ–°æ—¶é—´"),(0,l._)("th",null,"è´¡çŒ®è€…"),(0,l._)("th",null,"ä¿®è®¢è¯´æ˜Ž")],-1),Zi=["textContent","onClick"],Xi=["textContent"],$i=["href","textContent"],it=["textContent"];function tt(i,t,e,s,A,n){var a,r,c,u,d,p;const h=(0,l.up)("Reading"),m=(0,l.up)("el-icon"),k=(0,l.up)("Edit"),g=(0,l.up)("Warning"),v=(0,l.up)("SimpleThx"),w=(0,l.up)("RefreshLeft"),f=(0,l.up)("el-button"),B=(0,l.up)("el-drawer");return(0,l.wg)(),(0,l.iD)("div",wi,[(0,l._)("div",fi,[(0,l._)("div",Bi,[(0,l._)("div",Di,[(0,l._)("span",Ci,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(h)])),_:1}),(0,l.Uk)(" æŠ€èƒ½ç™¾ç§‘ "),A.wikiData&&A.wikiData.post?((0,l.wg)(),(0,l.iD)("em",yi,"(æŠ€èƒ½ID: "+(0,o.zw)(n.activeSkill)+")",1)):(0,l.kq)("",!0)]),(0,l._)("a",{class:"u-button el-button el-button--primary",href:n.publish_url(`skill/${n.activeSkill}`)},[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k)])),_:1}),Ii],8,Si)]),A.wikiData&&A.wikiData.post?((0,l.wg)(),(0,l.iD)("div",_i,[(0,l._)("div",bi,[(0,l._)("div",Qi,[xi,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.userData,((i,t)=>((0,l.wg)(),(0,l.iD)("a",{target:"_blank",href:`/author/${i.id}`,class:"u-value u-creator",key:t},[(0,l._)("img",{src:n.showAvatar(i.avatar),alt:i.nickname,title:i.nickname},null,8,Ei)],8,Ri)))),128))]),(0,l._)("div",Ui,[Mi,(0,l._)("span",Yi,(0,o.zw)(A.wikiData.post?n.ToDate(A.wikiData.post.updated):""),1)])]),(0,l._)("div",{innerHTML:A.wikiData.post.content},null,8,Fi)])):(0,l.kq)("",!0),n.is_empty?((0,l.wg)(),(0,l.iD)("div",Ti,[e.isPasvSkill?((0,l.wg)(),(0,l.iD)("div",Ki,Oi)):((0,l.wg)(),(0,l.iD)("div",Gi,[(0,l.Wm)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(g)])),_:1}),Wi]))])):(0,l.kq)("",!0),A.wikiData&&A.wikiData.post?((0,l.wg)(),(0,l.iD)("div",Pi,[(0,l.Wm)(v,{postType:"skill",postTitle:null===(a=A.wikiData)||void 0===a||null===(r=a.post)||void 0===r?void 0:r.title,userId:null===(c=A.wikiData)||void 0===c||null===(u=c.post)||void 0===u?void 0:u.user_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,postId:null===(d=A.wikiData)||void 0===d||null===(p=d.post)||void 0===p?void 0:p.id},null,8,["postTitle","userId","postId"]),(0,l.Wm)(f,{type:"primary",class:"u-btn",onClick:n.onViewHistory},{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"u-icon"},{default:(0,l.w5)((()=>[(0,l.Wm)(w)])),_:1}),(0,l.Uk)("æŸ¥çœ‹åŽ†å²ç‰ˆæœ¬")])),_:1},8,["onClick"])])):(0,l.kq)("",!0)])]),(0,l.Wm)(B,{modelValue:A.showDrawer,"onUpdate:modelValue":t[0]||(t[0]=i=>A.showDrawer=i),title:"åŽ†å²ç‰ˆæœ¬",class:"c-wiki-revisions"},{default:(0,l.w5)((()=>[(0,l._)("div",qi,[A.versions&&A.versions.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",ji,[null===A.versions?((0,l.wg)(),(0,l.iD)("span",Vi,"ðŸŽ‰ æ•°æ®åŠ è½½ä¸­...")):(0,l.kq)("",!0),!1===A.versions?((0,l.wg)(),(0,l.iD)("span",Ni,"âš ï¸ æ•°æ®åŠ è½½å¼‚å¸¸")):(0,l.kq)("",!0),A.versions&&!A.versions.length?((0,l.wg)(),(0,l.iD)("span",Hi,"ðŸ’§ æš‚æ— æ•°æ®")):(0,l.kq)("",!0)])),A.versions&&A.versions.length?((0,l.wg)(),(0,l.iD)("table",zi,[Ji,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.versions,((i,t)=>((0,l.wg)(),(0,l.iD)("tr",{class:"history",key:t},[(0,l._)("td",null,[(0,l._)("a",{class:"u-version-link",textContent:(0,o.zw)("v"+(A.versions.length-t)),onClick:t=>n.onVersionClick(i)},null,8,Zi)]),(0,l._)("td",{textContent:(0,o.zw)(n.ts2str(i.updated))},null,8,Xi),(0,l._)("td",null,[(0,l._)("a",{href:i.user_id?n.author_url(i.user_id):null,textContent:(0,o.zw)(i.user_nickname)},null,8,$i)]),(0,l._)("td",{textContent:(0,o.zw)(i.remark)},null,8,it)])))),128))])):(0,l.kq)("",!0)])])),_:1},8,["modelValue"])])}var et=e(27484),lt=e.n(et),st=e(49e3),At=e(75015),nt=e(37412),ot=e.n(nt),at=e(79212),rt=e.n(at);const ct=(0,A.o)();lt().extend(ot()),lt().extend(rt());var ut={components:{SimpleThx:At.Z},props:{isPasvSkill:{type:Boolean,default:!1}},data(){return{wikiData:{},userData:[],showDrawer:!1,versions:[]}},computed:{activeSkill(){return ct.activeSkill||0},is_empty:function(){var i;return!(null!==(i=this.wikiData)&&void 0!==i&&i.post)},client:function(){return location.href.includes("classic")||location.href.includes("origin")?"origin":"std"},baseUrl:function(){return"origin"==this.client?gi.__OriginRoot:gi.__Root},userId(){var i;return null===(i=st.Z.getInfo())||void 0===i?void 0:i.uid}},methods:{async getWikiToSkill(){var i;let t=await(0,pi.v0)({source_id:this.activeSkill,client:this.client,type:"skill"});this.wikiData=t.data,this.userData=null===(i=this.wikiData)||void 0===i?void 0:i.users},publish_url:hi.publishLink,showAvatar:hi.showAvatar,ToDate(i){let t=new Date(Number(i+"000"));return lt()(t).format("YYYY-MM-DD")},loadWikiVersion(){(0,pi.yQ)({type:"skill",id:this.activeSkill},{client:this.client}).then((i=>{this.versions=i.data.data||[]}),(()=>{this.versions=[]}))},link:function(i,t){return(0,hi.getLink)(i,t)},author_url:function(i){return(0,hi.authorLink)(i)},ts2str:hi.ts2str,onViewHistory(){this.showDrawer=!0},loadWikiById({id:i}){(0,pi.m1)(i).then((i=>{var t;this.wikiData=i.data.data||{},this.userData=null===(t=this.wikiData)||void 0===t?void 0:t.users}))},onVersionClick(i){this.loadWikiById(i)}},watch:{activeSkill(){this.getWikiToSkill()},showDrawer(i){i&&this.loadWikiVersion()}}};const dt=(0,ri.Z)(ut,[["render",tt]]);var pt=dt;const ht={class:"m-talent-recommend"},mt={class:"m-talent-recommend__header"},kt={class:"u-talent-title"},gt={key:0,class:"m-talent-recommend__content"},vt={class:"m-talent-box"},wt=["onClick"],ft={class:"m-talent-skill-item"},Bt={class:"u-name u-block"},Dt={class:"u-descbox"},Ct=["innerHTML"],yt=["src","alt"],St=["title"],It=["innerHTML"];function _t(i,t,e,s,A,n){var r,c;const u=(0,l.up)("el-option"),d=(0,l.up)("el-select"),p=(0,l.up)("el-popover"),h=(0,l.up)("el-alert");return(0,l.wg)(),(0,l.iD)("div",ht,[(0,l._)("div",mt,[(0,l._)("div",kt,[(0,l.Uk)(" å¥‡ç©´æŽ¨è "),(0,l.wy)((0,l.Wm)(d,{size:"small",modelValue:A.active,"onUpdate:modelValue":t[0]||(t[0]=i=>A.active=i),style:{width:"150px"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.list,(i=>((0,l.wg)(),(0,l.j4)(u,{key:i.id,label:i.title,value:i.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),[[a.F8,null===(r=A.list)||void 0===r?void 0:r.length]])])]),Object.keys(n.activeData).length?((0,l.wg)(),(0,l.iD)("div",gt,[(0,l._)("div",vt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.pzCode,((i,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,onClick:(0,a.iM)((t=>n.onSkillClick(i)),["stop"])},[(0,l.Wm)(p,{width:"400px","show-after":100,"hide-after":0,"popper-class":"m-skill-pop","show-arrow":!1,placement:"bottom-start",offset:0},{reference:(0,l.w5)((()=>[(0,l._)("div",{class:(0,o.C_)(["m-talent-item",{active:i.id==n.activeSkill}])},[(0,l._)("img",{class:"u-skill-icon",src:n.iconLink(i.icon),alt:i.icon},null,8,yt),(0,l._)("span",{class:"u-name",title:i.name},(0,o.zw)(i.name),9,St)],2)])),default:(0,l.w5)((()=>{var t;return[(0,l._)("div",ft,[(0,l._)("div",Bt,[(0,l._)("span",null,(0,o.zw)(i.name),1)]),(0,l._)("div",Dt,[(0,l._)("div",{class:"u-desc",innerHTML:n.format(null===(t=n.popSkill(i.id))||void 0===t?void 0:t.desc)},null,8,Ct)])])]})),_:2},1024)],8,wt)))),128))]),(0,l._)("div",{class:"m-talent-desc",innerHTML:n.nl2br(null===(c=n.activeData)||void 0===c?void 0:c.desc)},null,8,It)])):((0,l.wg)(),(0,l.j4)(h,{key:1,"show-icon":"",type:"warning",title:"æš‚æ— å¥‡ç©´æŽ¨è",class:"u-alert",closable:!1}))])}function bt(i){return(0,H.nj)().get("/api/cms/bps/talent",{params:i})}const Qt=(0,A.o)();var xt={name:"TalentRecommend",data(){return{showDialog:!1,list:[],active:""}},computed:{isEditor(){return st.Z.isEditor()},subtype(){var i;return(null===(i=this.$route.query)||void 0===i?void 0:i.subtype)||"å†°å¿ƒè¯€"},mount(){var i;return(null===(i=di[this.subtype])||void 0===i?void 0:i.id)||0},client(){return(0,A.o)().client},activeData(){return this.list.find((i=>i.id==this.active))||{}},pzCode(){try{return JSON.parse(this.activeData.pzcode)}catch(i){return[]}},activeSkill(){return Qt.activeSkill},qixueData(){const i=Qt.qixueData[this.subtype]||{};if(Object.keys(i).length){const t=[];return Object.values(i).forEach((i=>{const e=Object.values(i);t.push(...e)})),t}return[]}},watch:{mount:{immediate:!0,handler(){this.loadRecommend(),this.refMap=[]}}},methods:{iconLink:hi.iconLink,format:function(i){return null===i||void 0===i?void 0:i.replace(/\\n/g,"\n")},onSettingIconClick(){this.showDialog=!0},loadRecommend(){this.mount&&bt({mount:this.mount,client:this.client,subtype:"pvp"}).then((i=>{var t,e;this.list=(null===(t=i.data.data)||void 0===t?void 0:t.list)||[],this.active=(null===(e=this.list[0])||void 0===e?void 0:e.id)||""})).finally((()=>{this.loading=!1}))},nl2br(i){return i&&i.replace(/\n/g,"<br/>")||""},onSkillClick(i){Qt.setActiveSkill(null===i||void 0===i?void 0:i.id)},popSkill(i){var t;return(null===(t=this.qixueData)||void 0===t?void 0:t.find((t=>t.id==i)))||null}}};const Rt=(0,ri.Z)(xt,[["render",_t]]);var Et=Rt;const Ut={class:"m-special-skill"},Mt={class:"u-special-title"},Yt={key:0,class:"m-special-skill__content"},Ft={class:"u-tab-icon"},Tt={class:"m-collection-box"},Gt=["innerHTML"],Wt={class:"m-collection-list"},Kt=["href"],Lt=["src"],Ot={class:"u-name"},Pt={class:"u-xf"},qt={class:"u-desc"},jt={class:"u-remark"};function Vt(i,t,e,s,A,n){const a=(0,l.up)("Filter"),r=(0,l.up)("el-icon"),c=(0,l.up)("ArrowUp"),u=(0,l.up)("ArrowDown"),d=(0,l.up)("el-tab-pane"),p=(0,l.up)("el-tabs");return(0,l.wg)(),(0,l.iD)("div",Ut,[(0,l._)("div",{class:"m-special-skill__header",onClick:t[0]||(t[0]=i=>A.isCollapse=!A.isCollapse)},[(0,l._)("div",Mt,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Wm)(a)])),_:1}),(0,l.Uk)("æŠ€èƒ½åˆ†ç±» "),(0,l.Wm)(r,{class:"u-collapse-icon",title:A.isCollapse?"æŠ˜å ":"å±•å¼€"},{default:(0,l.w5)((()=>[A.isCollapse?((0,l.wg)(),(0,l.j4)(c,{key:0})):((0,l.wg)(),(0,l.j4)(u,{key:1}))])),_:1},8,["title"])])]),A.isCollapse?((0,l.wg)(),(0,l.iD)("div",Yt,[(0,l.Wm)(p,{modelValue:A.type,"onUpdate:modelValue":t[1]||(t[1]=i=>A.type=i)},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(A.types,((i,t)=>((0,l.wg)(),(0,l.j4)(d,{label:i.label,name:i.key,key:t},{label:(0,l.w5)((()=>[(0,l._)("span",Ft,[(0,l.Wm)(r,{size:16},{default:(0,l.w5)((()=>[((0,l.wg)(),(0,l.j4)((0,l.LL)(i.icon)))])),_:2},1024),(0,l.Uk)(" "+(0,o.zw)(i.label),1)])])),default:(0,l.w5)((()=>[(0,l._)("div",Tt,[(0,l._)("div",{class:"m-collection-header",innerHTML:i.desc},null,8,Gt)]),(0,l._)("ul",Wt,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.skills,((i,t)=>((0,l.wg)(),(0,l.iD)("li",{class:"u-item",key:t},[(0,l._)("a",{href:n.getItemLink(i),target:"_blank"},[(0,l._)("img",{class:"u-icon",src:n.iconLink(i.icon,n.client)},null,8,Lt),(0,l._)("span",Ot,(0,o.zw)(i.name),1),(0,l._)("span",Pt," ("+(0,o.zw)(n.getBelongTo(i))+") ",1),(0,l._)("span",qt,(0,o.zw)(i.desc),1),(0,l._)("span",jt,(0,o.zw)(i.content),1)],8,Kt)])))),128))])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])])):(0,l.kq)("",!0)])}var Nt=e(91170),Ht=e(45625),zt={name:"SpecialSkill",data(){return{isCollapse:!0,types:[],type:""}},computed:{client(){return(0,A.o)().client},subtype(){return this.$route.query.subtype||"å†°å¿ƒè¯€"},school(){var i;return"é€šç”¨"===this.subtype?this.subtype?0:"":null===(i=di[this.subtype])||void 0===i?void 0:i.school},mount(){var i;return(null===(i=di[this.subtype])||void 0===i?void 0:i.id)||0}},watch:{subtype(){this.loadGroup()},isCollapse:{immediate:!0,handler(i){i&&this.loadGroup()}}},methods:{iconLink(i){return(0,hi.iconLink)(i)},loadGroup(){(0,pi.rI)().then((i=>{var t;this.types=i.data.data.map((i=>({...i,icon:i.extend,key:i.name}))).filter((i=>!["chuanci","chuantou","guanti"].includes(i.key)&&i.skills.length>0)).map((i=>({...i,skills:i.skills.filter((i=>((null===i||void 0===i?void 0:i.mount)==this.mount||!(null!==i&&void 0!==i&&i.mount))&&(null===i||void 0===i?void 0:i.school)==this.school&&(null===i||void 0===i?void 0:i.client)==this.client)).sort(((i,t)=>i.idKey-t.idKey))}))),this.type=null===(t=this.types[0])||void 0===t?void 0:t.key}))},getBelongTo({school:i,mount:t}){return t?Ht[t]:Nt[i]},getItemLink:function(i){return(0,hi.getLink)(i.type||"skill",i.id)}}};const Jt=(0,ri.Z)(zt,[["render",Vt]]);var Zt=Jt,Xt="data:image/gif;base64,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",$t="data:image/gif;base64,R0lGODlhIAAgAPUuABM6OhI7OxM7OxU6OhQ7OxM8PBQ8PBU9PRY8PBk9Oxg8PBg9PRs+Ph8+PCc9OSc+OxtAPh9APSJAPhtFRSBLSzNCQiVQTilVVCtZWSxcWjRiYjtqaDpsa0R4d0yDgFSNjFuRjlaRkFeSkV+WkluVlF6YlmCXlGGalmKcmmKenGWhn2ekommnpWmopgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAUDAC4ALAAAAAAgACAAAAbpQJdwSCwaj8ikcslsOp/QqHRKrToVVgWgABg+AJjuVDEhtQrDQaeVSUQrg4mIdXZBCoNNi4RebrkDBRooK3QFCRMeBQUpLRQQSwUtLRYbICkqhWcGH2wFax0DkZMjJieYmgUKHC2KGC0iBqMtpaeZhhIULSkAEy0lskqStCe2qRUGk4vKs7WohhXDy3XCpKbPZ7m7Bb4lYknDI8XYBQasrrB94JOVl7ebI2wAoKJKfwCBg6kKF7EFKpQgPYEjx5ALBQoM6Ik1pgw1BwZKsAkmRQuXIQYmdPhmhUiDAg06ihxJsqTJkyirBAEAOw==";const ie=["src"],te={key:0,src:Xt},ee={key:1,src:$t},le={class:"u-audio-progress__wrapper"};function se(i,t,e,s,A,n){return(0,l.wg)(),(0,l.iD)("div",{class:"m-skill-audio",onClick:t[2]||(t[2]=(...i)=>n.play&&n.play(...i))},[(0,l._)("audio",{ref:"audio",src:e.src,hidden:"",onDurationchange:t[0]||(t[0]=(...i)=>n.init&&n.init(...i)),onEnded:t[1]||(t[1]=(...i)=>n.ended&&n.ended(...i))},null,40,ie),i.playing?((0,l.wg)(),(0,l.iD)("img",te)):((0,l.wg)(),(0,l.iD)("img",ee)),(0,l.Uk)(" "+(0,o.zw)(e.remark)+" ",1),(0,l._)("div",le,[(0,l._)("div",{class:"u-audio-progress__bar",style:(0,o.j5)(n.barStyle)},null,4)])])}var Ae={name:"SkillAudio",props:{src:{type:String,default:""},remark:{type:String,default:""}},data:()=>({playing:!1,currentTime:0,duration:1}),methods:{init(){this.duration=this.$refs.audio.duration,this.currentTime=0},update(){this.currentTime=this.$refs.audio.currentTime},play(){if(this.playing)return this.$refs.audio.pause(),void(this.playing=!1);this.$refs.audio.play(),this.playing=!0;let i=setInterval((()=>{this.playing?this.update():clearInterval(i)}),10)},ended(){this.currentTime=0,this.playing=!1}},computed:{barStyle(){return{width:this.currentTime/this.duration*100+"%"}}},mounted(){this.init()},beforeUnmount(){this.ended()}};const ne=(0,ri.Z)(Ae,[["render",se],["__scopeId","data-v-047895aa"]]);var oe=ne;const ae=(0,A.o)();var re={name:"MartialArts",components:{SkillAudio:oe,SkillWiki:pt,TalentRecommend:Et,SpecialSkill:Zt,SkillItemV2:ui},data(){return{loading:!1,data:[],talents:[],kungfuid:"pasv",audios:{},currentAudios:[],audioIconRef:null,visibleAudioPopover:!1,skillSwitchPopover:!1,skillSwitchRef:null,skillSwitchList:{},skillSwitchData:{},talentDriver:null,recipe:[],version:"",iconRef:(0,Z.iH)(null),visiblePopover:!1,refMap:[],selectedRecipe:[],skills:[],subSkills:[],ExtraPointKey:"",isSpecialSkill:!1,popover_skill:null,pasv_skill:"",formation_skill:"",kungfu_skills:{}}},computed:{subtype(){return this.$route.query.subtype||"å†°å¿ƒè¯€"},school(){return mi.$$[this.subtype]},schoolid(){return ki[this.school].school_id},kungfuId(){var i;return null===(i=di[this.subtype])||void 0===i?void 0:i["kungfuId"]},mountid:function(){var i;return(null===(i=di[this.subtype])||void 0===i?void 0:i["id"])||"0"},client(){return ae.client},activeSkill(){return ae.activeSkill},pasvSkill(){var i;return(null===(i=this.pasv_skill)||void 0===i?void 0:i.skill)||{}},formationSkill(){var i;let t={Name:"é˜µæ³•",IconID:13};const e=null===(i=this.formation_skill)||void 0===i?void 0:i.skill;return e?(t=e[0],t):t},formationSkillDesc(){var i;let t="";const e=null===(i=this.formation_skill)||void 0===i?void 0:i.skill;if(!e)return t;const l=["ä¸€é‡ç²—è¯†","äºŒé‡ç•¥æ‡‚","ä¸‰é‡å·§ç†Ÿ","å››é‡ç²¾å¦™","äº”é‡æ¸¸åˆƒ","å…­é‡å¿˜æˆ‘","ä¸ƒé‡å½’ä¸€"];return e.forEach(((i,e)=>{t+=`<div>${l[e]}ï¼š${i.Desc}</div>`})),t},zhenfaBg(){var i;const t=null===(i=di[this.subtype])||void 0===i?void 0:i.school;return{"background-image":`url(${e(54844)(`./${t}.png`)})`}},talent_skills:function(){var i;return this.mountid&&(null===(i=this.talents)||void 0===i?void 0:i[this.mountid])||[]},talent2_skills:function(){var i;return this.mountid&&(null===(i=this.talents2)||void 0===i?void 0:i[this.mountid])||[]},params:function(){return{ids:this.ids,client:this.client}},tlSkillIds:function(){return this.skills.map((i=>~~i._id))}},watch:{subtype:{async handler(){this.refMap=[],this.loading=!0,await this.loadMountKungfuPanel(),await this.getRecipe(),this.loading=!1,this.reloadTalent(),this.getAudioIndex()},immediate:!0}},mounted:async function(){this.talents=await(0,pi.xE)(),this.installTalent(),document.addEventListener("click",this.clickEvent)},beforeUnmount(){document.removeEventListener("click",this.clickEvent)},methods:{iconLink:hi.iconLink,showMountIcon:hi.showMountIcon,isCurrentMountSkill(i){return!i.MountRequestDetail||i.MountRequestDetail==this.mountid},clickEvent:function(i){const t=["m-recipe-pop","m-audio-pop"],e=i.target;e.parentElement&&!t.some((i=>e.closest(`.${i}`)))&&(this.visibleAudioPopover=!1,this.visiblePopover=!1,this.skillSwitchPopover=!1)},audioUrl:function(i){return`${gi.__dataPath}/audio/src/${i}`},setRefs:function(i,t){i&&this.refMap.push({ref:i,item:t})},showRecipe:function(i){const t=this.refMap.findIndex((t=>t.item.SkillID==i));this.iconRef==this.refMap[t].ref&&this.visiblePopover?this.visiblePopover=!1:(this.iconRef=this.refMap[t].ref,this.selectedRecipe=this.getSkillRecipe(i),this.visiblePopover=!0)},showAudio:function(i,t){this.audioIconRef==t&&this.visibleAudioPopover?this.visibleAudioPopover=!1:(this.currentAudios=this.audios[i],this.audioIconRef=t,this.visibleAudioPopover=!0)},showSkillSwitch(i,t,e,l){this.skillSwitchRef==l&&this.skillSwitchPopover?this.skillSwitchPopover=!1:(this.skillSwitchRef=l,this.skillSwitchData={},this.skillSwitchData.kungfu_id=t,this.skillSwitchData.listIndex=e,this.skillSwitchData.list=this.skillSwitchList[i.switchBelong||i.skill_id],this.skillSwitchPopover=!0)},skillSwitch(i){let t=JSON.parse(JSON.stringify(this.skillSwitchList[i.switchBelong||i.skill_id])),e=t[i.skill_id];e.belong="",this.kungfu_skills[this.skillSwitchData.kungfu_id][this.skillSwitchData.listIndex]=e},async loadMountKungfuPanel(){const i=this.mountid;J({client:this.client,mount_id:i}).then((i=>{const t=i.data.data,e=t.find((i=>-1==i.column));e.skill[0].Desc=e.skill[1].Desc,e.skill[0].parse.desc=e.skill[1].parse.desc,e.skill=e.skill[0],this.pasv_skill=e;const l=t.find((i=>-2==i.column));l.skill=l.skill.sort(((i,t)=>i.Level-t.Level)),this.formation_skill=l;const s=(0,X.groupBy)(t.filter((i=>i.column>=0)).sort(((i,t)=>i.column-t.column)),"kungfu_id");for(const A in s){let i=s[A].find((i=>1==i.column));i&&(i.firstRight=!0),s[A].forEach((i=>{i.belong&&(i.switchBelong=i.belong,this.skillSwitchList[i.belong]||(this.skillSwitchList[i.belong]={}),this.skillSwitchList[i.belong][i.skill_id]=i,s[A].forEach((t=>{t.skill_id==i.belong&&(this.skillSwitchList[i.belong][t.skill_id]=t)})))}))}this.kungfu_skills=s,this.setSkill(this.pasv_skill.skill)}))},showSkill(i){this.popover_skill=i},setSkill(i){ae.setActiveSkill(null===i||void 0===i?void 0:i.SkillID)},installTalent:async function(){await(0,pi.kn)("pvp_talent_version").then((i=>{var t,e;this.version=null===(t=i.data)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.html,this.talentDriver=new vi.Z({version:this.version}),this.reloadTalent()}))},reloadTalent(){this.subtype&&"é€šç”¨"!=this.subtype&&this.$nextTick((()=>{var i;this.talentDriver&&(null===(i=this.talentDriver)||void 0===i||i.then((i=>{ae.qixueData=null===i||void 0===i?void 0:i._data,i.load({xf:this.subtype,editable:!0})})))}))},async getRecipe(){z({school:this.school,client:this.client}).then((i=>{this.recipe=i.data}))},getSkillRecipe(i){return this.recipe.filter((t=>t.SkillID==i))},recipeLink(i){return`/item/search/${i.Name}`},getAudioIndex(){(0,pi.Np)(this.schoolid).then((i=>{this.audios=i}))}}};const ce=(0,ri.Z)(re,[["render",N]]);var ue=ce,de={name:"IndexPage",components:{ListLayout:n.Z,MartialArts:ue},props:[],data:function(){return{}},computed:{client(){return(0,A.o)().client}}};const pe=(0,ri.Z)(de,[["render",s]]);var he=pe},54844:function(i,t,e){var l={"./1.png":64571,"./10.png":36826,"./18.png":14898,"./19.png":24995,"./2.png":70682,"./20.png":49733,"./21.png":46021,"./22.png":40897,"./23.png":23936,"./24.png":94339,"./26.png":92338,"./29.png":6500,"./3.png":87146,"./4.png":26927,"./5.png":8709,"./6.png":7624,"./7.png":39070,"./8.png":28901,"./9.png":27240};function s(i){var t=A(i);return e(t)}function A(i){if(!e.o(l,i)){var t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}return l[i]}s.keys=function(){return Object.keys(l)},s.resolve=A,i.exports=s,s.id=54844},64571:function(i,t,e){"use strict";i.exports=e.p+"img/1.d96e8852.png"},36826:function(i,t,e){"use strict";i.exports=e.p+"img/10.deb46b62.png"},14898:function(i,t,e){"use strict";i.exports=e.p+"img/18.87c9c90d.png"},24995:function(i,t,e){"use strict";i.exports=e.p+"img/19.5dca33b7.png"},70682:function(i,t,e){"use strict";i.exports=e.p+"img/2.d23d450c.png"},49733:function(i,t,e){"use strict";i.exports=e.p+"img/20.f31ea26f.png"},46021:function(i,t,e){"use strict";i.exports=e.p+"img/21.926ef9a0.png"},40897:function(i,t,e){"use strict";i.exports=e.p+"img/22.66274198.png"},23936:function(i,t,e){"use strict";i.exports=e.p+"img/23.3867d2b7.png"},94339:function(i,t,e){"use strict";i.exports=e.p+"img/24.548f287b.png"},92338:function(i,t,e){"use strict";i.exports=e.p+"img/26.ee22d5ab.png"},6500:function(i,t,e){"use strict";i.exports=e.p+"img/29.0a506bd8.png"},87146:function(i,t,e){"use strict";i.exports=e.p+"img/3.ad34621c.png"},26927:function(i,t,e){"use strict";i.exports=e.p+"img/4.f2f825b4.png"},8709:function(i,t,e){"use strict";i.exports=e.p+"img/5.c0c2f9ba.png"},7624:function(i,t,e){"use strict";i.exports=e.p+"img/6.f2fcf074.png"},39070:function(i,t,e){"use strict";i.exports=e.p+"img/7.93138632.png"},28901:function(i,t,e){"use strict";i.exports=e.p+"img/8.7144c471.png"},27240:function(i,t,e){"use strict";i.exports=e.p+"img/9.105d981c.png"}}]);
//# sourceMappingURL=983.d7d58a20.js.map