(self["webpackChunkpvp"]=self["webpackChunkpvp"]||[]).push([[247],{13691:function(t,e,a){var i={"./bilibili.svg":74615,"./douyu.svg":17521,"./github.svg":69857,"./huya.svg":31159,"./msg.svg":10192,"./weibo.svg":88232};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=o,t.exports=n,n.id=13691},86607:function(t,e,a){"use strict";a.d(e,{Jq:function(){return n},xl:function(){return o}});var i=a(18371);function n(t){return(0,i.nj)().get("/api/cms/posts",{params:t})}function o(t){return(0,i.nj)().get(`/api/cms/post/${t}`)}},60956:function(t,e,a){"use strict";a.d(e,{Z:function(){return v}});var i=a(66252),n=a(3577);const o=["href"],s=["src"],l={key:0,class:"c-avatar-frame"},r=["src"];function u(t,e,a,u,c,d){return(0,i.wg)(),(0,i.iD)("a",{class:(0,n.C_)(["c-avatar",a.size]),href:d.authorLink(a.uid)},[(0,i._)("img",{src:d.showAvatar(a.url),class:"c-avatar-pic"},null,8,s),a.frame?((0,i.wg)(),(0,i.iD)("i",l,[(0,i._)("img",{src:d.frameUrl},null,8,r)])):(0,i.kq)("",!0),(0,i.WI)(t.$slots,"default")],10,o)}var c=a(89847),d=a(17233);const{__imgPath:h}=c;var p={name:"AvatarComp",props:{uid:{type:[Number,String],default:0},url:{type:String,default:""},frame:{type:String,default:""},size:{type:[Number,String],default:"m"}},components:{},data:function(){return{frames:[],styles:{xxs:36,xs:48,s:68,m:88,l:120,xl:150}}},computed:{frameUrl:function(){return h+`avatar/images/${this.frame}/${this.frame}.svg`}},methods:{showAvatar:function(t){return(0,d.showAvatar)(t,3*this.styles[this.size])},authorLink:d.authorLink}},f=a(83744);const m=(0,f.Z)(p,[["render",u]]);var v=m},53057:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Nn}});var i=a(66252),n=a(3577),o=a(49963);const s={class:"p-pvp-single"},l={class:"u-meta u-sub-block"},r=(0,i._)("em",{class:"u-label"},"心法",-1),u={class:"u-value"},c=["src","alt"],d={class:"u-meta u-sub-block"},h=(0,i._)("em",{class:"u-label"},"资料片",-1),p={class:"u-value"},f={key:0,class:"m-single-post"},m={class:"m-trick-item"},v={class:"m-trick-item__content"},g={class:"m-trick-item__right"},_={class:"m-header"},w=["innerHTML"],b={class:"m-content"},y={key:0,class:"m-talent"},k={class:"m-talent__title"},z=["src"],M={key:0,class:"u-desc"},x=["innerHTML"],C={class:"m-skills"},I={class:"u-title"},A=["src"],E={key:0,class:"u-skills"},T=["src","alt","title"],D={class:"u-skill-name"},L={class:"u-gcd-icon",title:"无GCD技能"},R={key:1,class:"u-desc"},N={key:1,class:"m-single-null"},S={class:"m-single-append"},H={ref:"commentView",class:"m-single-comment"};function P(t,e,a,P,U,B){const q=(0,i.up)("PostHeader"),W=(0,i.up)("el-divider"),V=(0,i.up)("Clock"),O=(0,i.up)("el-icon"),F=(0,i.up)("el-alert"),$=(0,i.up)("Thx"),Z=(0,i.up)("Comment"),Y=(0,i.up)("SingleLayout");return(0,i.wg)(),(0,i.j4)(Y,null,{default:(0,i.w5)((()=>{var e,a,P,Y,Q,j,G;return[(0,i._)("div",s,[(0,i.Wm)(q,{post:U.post,stat:U.stat},{default:(0,i.w5)((()=>[(0,i._)("div",l,[r,(0,i._)("span",u,[(0,i._)("img",{class:"u-icon-xf",src:B.xficon(B.xficon_id),alt:B.xf},null,8,c),(0,i.Uk)(" "+(0,n.zw)(B.xf),1)])]),(0,i._)("div",d,[h,(0,i._)("span",p,(0,n.zw)(B.zlp),1)])])),_:1},8,["post","stat"]),B.visible?((0,i.wg)(),(0,i.iD)("div",f,[(0,i.Wm)(W,{"content-position":"left"},{default:(0,i.w5)((()=>[(0,i.Uk)("JX3BOX")])),_:1}),(0,i._)("div",m,[(0,i._)("div",v,[(0,i._)("div",g,[(0,i._)("div",_,[(0,i._)("div",{innerHTML:B.nl2br(null===(e=B.data)||void 0===e||null===(a=e.post_meta)||void 0===a?void 0:a.content)},null,8,w)]),(0,i._)("div",b,[Object.keys(B.talent).length?((0,i.wg)(),(0,i.iD)("div",y,[(0,i._)("div",k,[(0,i._)("img",{class:"u-icon",src:B.getAppIcon("talent"),alt:""},null,8,z),(0,i.Uk)(" 奇穴 ")]),(0,i._)("div",{class:(0,n.C_)(["m-talent-box",`m-qx-container-${null===(P=B.data)||void 0===P?void 0:P.ID}`])},null,2),null!==(Y=B.data)&&void 0!==Y&&null!==(Q=Y.post_meta)&&void 0!==Q&&Q.talent_desc?((0,i.wg)(),(0,i.iD)("div",M,[(0,i.Uk)(" 奇穴讲解："),(0,i._)("span",{innerHTML:B.nl2br(null===(j=B.data)||void 0===j||null===(G=j.post_meta)||void 0===G?void 0:G.talent_desc)},null,8,x)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",C,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(B.skills,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"m-skill-item",key:e},[(0,i._)("div",I,[(0,i._)("img",{class:"u-icon",src:B.getAppIcon("pvp"),alt:""},null,8,A),(0,i.Uk)(" 连招："+(0,n.zw)(t.name),1)]),t.sq?((0,i.wg)(),(0,i.iD)("div",E,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.sq,((t,e)=>((0,i.wg)(),(0,i.iD)("span",{key:t.SkillID+""+e,class:"u-skill"},[(0,i._)("img",{class:"u-skill-icon",src:B.iconLink(t.IconID),alt:t.IconID,title:t.Name},null,8,T),(0,i._)("span",D,(0,n.zw)(t.Name),1),(0,i.wy)((0,i._)("i",L,[(0,i.Wm)(O,null,{default:(0,i.w5)((()=>[(0,i.Wm)(V)])),_:1})],512),[[o.F8,t.WithoutGcd]])])))),128))])):(0,i.kq)("",!0),t.desc?((0,i.wg)(),(0,i.iD)("div",R,"连招说明："+(0,n.zw)(t.desc),1)):(0,i.kq)("",!0)])))),128))])])])])])])):((0,i.wg)(),(0,i.iD)("div",N,[(0,i.Wm)(F,{title:B.null_tip,type:"warning","show-icon":""},null,8,["title"])])),(0,i._)("div",S,[(0,i.WI)(t.$slots,"single-append"),(0,i.Wm)($,{class:"m-single-thx",postId:B.id,postType:B.post_type,postTitle:B.post_title,userId:B.author_id,adminBoxcoinEnable:!0,userBoxcoinEnable:!0,authors:U.authors,client:B.post_client,allowGift:B.allow_gift},null,8,["postId","postType","postTitle","userId","authors","client","allowGift"]),(0,i._)("div",H,[(0,i.Wm)(W,{"content-position":"left"},{default:(0,i.w5)((()=>[(0,i.Uk)("评论")])),_:1}),B.id&&B.allow_comment?((0,i.wg)(),(0,i.j4)(Z,{key:0,id:B.id,category:"post"},null,8,["id"])):((0,i.wg)(),(0,i.j4)(F,{key:1,title:"作者没有开启评论功能",type:"warning","show-icon":""}))],512)])])]})),_:3})}var U=a(17233),B=a(24239),q=a(86607),W=a(14487),V=a(89847),O=a(91254),F=a(60063),$=a(957);function Z(t,e,a,o,s,l){const r=(0,i.up)("Header"),u=(0,i.up)("Breadcrumb"),c=(0,i.up)("Nav"),d=(0,i.up)("LeftSidebar"),h=(0,i.up)("PostTopic"),p=(0,i.up)("RightSidebar"),f=(0,i.up)("Footer"),m=(0,i.up)("Main");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r),(0,i.Wm)(u,{name:"竞技专栏",slug:"pvp",root:"/pvp",publishEnable:!0,adminEnable:!0,feedbackEnable:!0,crumbEnable:!0},{title:(0,i.w5)((()=>[(0,i._)("span",null,(0,n.zw)(l.title),1)])),_:1}),(0,i.Wm)(d,{uid:l.user_id},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{id:t.id,class:"m-nav"},null,8,["id"])])),_:1},8,["uid"]),(0,i.Wm)(m,{withoutRight:!a.hasRight},{default:(0,i.w5)((()=>[(0,i.WI)(t.$slots,"default"),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{type:"pvp",id:l.postId},null,8,["id"])])),_:1}),(0,i.Wm)(f)])),_:3},8,["withoutRight"])])}const Y={class:"m-single-nav"};function Q(t,e,a,n,o,s){const l=(0,i.up)("Author");return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i.Wm)(l,{uid:s.uid},null,8,["uid"])])}const j={class:"c-author"},G={class:"u-interact"};function K(t,e,a,n,o,s){const l=(0,i.up)("AuthorInfo"),r=(0,i.up)("AuthorFollow"),u=(0,i.up)("AuthorGift"),c=(0,i.up)("AuthorLink"),d=(0,i.up)("AuthorMedals"),h=(0,i.up)("AuthorTeams"),p=(0,i.up)("AuthorFans"),f=(0,i.up)("AuthorPosts");return(0,i.wg)(),(0,i.iD)("div",j,[(0,i.Wm)(l,{uid:a.uid,onReady:s.installModules},null,8,["uid","onReady"]),t.data?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",G,[(0,i.Wm)(r,{style:{"margin-right":"8px"},uid:a.uid},null,8,["uid"]),(0,i.Wm)(u,{uid:a.uid},null,8,["uid"])]),(0,i.Wm)(c,{class:"u-block u-links",uid:a.uid,data:t.data},null,8,["uid","data"]),(0,i.Wm)(d,{class:"u-block u-trophy",uid:a.uid},null,8,["uid"]),(0,i.Wm)(h,{class:"u-block u-teams",uid:a.uid},null,8,["uid"]),(0,i.Wm)(p,{class:"u-block u-fans",uid:a.uid},null,8,["uid"]),(0,i.WI)(t.$slots,"default"),(0,i.Wm)(f,{class:"u-block u-posts",uid:a.uid},null,8,["uid"])],64)):(0,i.kq)("",!0)])}const X={class:"c-author-info"},J={class:"u-author"},tt={class:"u-info"},et={class:"u-name"},at={class:"u-superauthor",href:"/about/superauthor",target:"_blank"},it=["src"],nt=["href"],ot={class:"u-extend"},st={class:"u-tips"},lt={class:"u-vip",href:"/vip/premium?from=sidebar_author",target:"_blank"},rt={class:"i-icon-vip on"},ut={class:"u-bio"};function ct(t,e,a,o,s,l){const r=(0,i.up)("Avatar"),u=(0,i.up)("el-tooltip"),c=(0,i.up)("Honor");return(0,i.wg)(),(0,i.iD)("div",X,[(0,i._)("div",J,[(0,i.Wm)(r,{class:"u-avatar",uid:a.uid,url:t.data.user_avatar,size:"s",frame:t.data.user_avatar_frame},null,8,["uid","url","frame"]),(0,i._)("div",tt,[(0,i._)("div",et,[l.isSuperAuthor?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"item",effect:"dark",content:"签约作者",placement:"top"},{default:(0,i.w5)((()=>[(0,i._)("a",at,[(0,i._)("img",{src:t.super_author_icon,alt:"superauthor"},null,8,it)])])),_:1})):(0,i.kq)("",!0),(0,i._)("a",{class:"u-displayname",href:l.authorLink(a.uid),target:"_blank"},(0,n.zw)(t.data.display_name||"未知"),9,nt)]),(0,i._)("div",ot,[(0,i.Wm)(u,{class:"item",effect:"dark",placement:"top"},{content:(0,i.w5)((()=>[(0,i._)("span",st,"经验值："+(0,n.zw)(t.data.experience),1)])),default:(0,i.w5)((()=>[(0,i._)("a",{class:(0,n.C_)(["u-level","lv-"+l.level]),style:(0,n.j5)({backgroundColor:l.showLevelColor(l.level)}),href:"/about/incentives",target:"_blank"},"Lv."+(0,n.zw)(l.level),7)])),_:1}),l.isVip?((0,i.wg)(),(0,i.j4)(u,{key:0,class:"item",effect:"dark",content:l.vipTypeTitle,placement:"top"},{default:(0,i.w5)((()=>[(0,i._)("a",lt,[(0,i._)("i",rt,(0,n.zw)(l.vipType),1)])])),_:1},8,["content"])):(0,i.kq)("",!0)])])]),(0,i.Wm)(c,{uid:a.uid},null,8,["uid"]),(0,i._)("div",ut,(0,n.zw)(t.data.user_bio),1)])}var dt=a(49e3),ht=a(75231),pt=a(60956);function ft(t,e,a,o,s,l){return t.honor?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"c-author-honor",style:(0,n.j5)({backgroundImage:`url(${l.imgUrl()})`})},[(0,i._)("span",{style:(0,n.j5)({color:t.honor.color})},(0,n.zw)(t.honor.honor),5)],4)):(0,i.kq)("",!0)}var mt=a(36864),vt=a(96486);const{__imgPath:gt}=V,_t="honor_img";var wt={props:["uid"],data:function(){return{honor:""}},watch:{uid:{immediate:!0,handler:function(t){t&&this.getHonor()}}},methods:{imgUrl:function(){let t=this.honor;if(t)return t.isImgIndex?gt+`decoration/honor/${t.val}/${t.val}_${t.imgIndex}.${t.ext}`:gt+`decoration/honor/${t.val}/${t.val}.${t.ext}`},getHonor(){let t=this.uid;if(!t)return;let e=sessionStorage.getItem(_t+t)||"";if("no"!=e)try{this.honor=JSON.parse(e)}catch(a){(0,mt.Py)({using:1,user_id:t,type:"honor"}).then((e=>{let a=e.data.data||[];if(0==a.length)return void sessionStorage.setItem(_t+t,"no");let i=a[0];this.getHonorStyle(i)}))}},getHonorStyle(t){(0,mt.R5)().then((e=>{let a=e.data,i=a[t.val],n=i.prefix,o=i.prefix.match(/\{([^{}]+?)\}/g),s=i.ranking,l=i.year||"";if(l+=o?t[o[0].slice(1,-1)]||"":n,s.length>0){t.imgIndex=0;for(let e=0;e<s.length;e++)if(void 0!==t.ranking&&(0,vt.inRange)(Number(t.ranking),s[e][0],s[e][1])){t.imgIndex=e;let a=s[e][2],i=a.match(/\{([^{}]+?)\}/g);l+=i?a.replace(/\{([^{}]+?)\}/g,(function(e,a){return t[a]||""})):a;break}}t.honor=l+i.suffix,t.color=i.color,t.ext=i.ext,t.isHave=!0,t.isImgIndex=s.length>0,sessionStorage.setItem(_t+this.uid,JSON.stringify(t)),this.honor=t}))}}},bt=a(83744);const yt=(0,bt.Z)(wt,[["render",ft]]);var kt=yt;const{__imgPath:zt,__userLevelColor:Mt}=V;var xt={name:"AuthorInfo",props:["uid"],components:{Avatar:pt.Z,Honor:kt},data:function(){return{data:{},isVIP:!1,super_author_icon:zt+"image/user/superauthor.svg"}},computed:{level:function(){return dt.Z.getLevel(this.data?.experience)},vipType:function(){return this.data?.is_pro?"PRO":"PRE"},vipTypeTitle:function(){return this.data?.is_pro?"专业版会员":"高级版会员"},isVip:function(){return this.data?.is_pro||this.data?.is_pre},isSuperAuthor:function(){return this.data?.sign}},watch:{uid:{immediate:!0,handler:function(t){t&&this.loadData()}}},methods:{loadData:function(){return(0,ht.bG)(this.uid).then((t=>{t&&(this.data=t,this.$emit("ready",this.data))}))},authorLink:U.authorLink,showLevelColor:function(t){return Mt[t]}},created:function(){},mounted:function(){}};const Ct=(0,bt.Z)(xt,[["render",ct]]);var It=Ct;const At={key:0,class:"c-author-link"},Et=["href","title"],Tt=["src"],Dt=["href","title"],Lt=["src"],Rt=["href","title"],Nt=["src"];function St(t,e,a,o,s,l){return l.isExist?((0,i.wg)(),(0,i.iD)("div",At,[a.data.weibo_name?((0,i.wg)(),(0,i.iD)("a",{key:0,class:"u-link u-link__weibo",href:l.weiboLink(a.data.weibo_id),target:"_blank",title:a.data.weibo_name},[(0,i._)("img",{src:l.getIcon("weibo")},null,8,Tt)],8,Et)):(0,i.kq)("",!0),a.data.github_name?((0,i.wg)(),(0,i.iD)("a",{key:1,class:"u-link u-link__github",href:l.githubLink(a.data.github_name),target:"_blank",title:a.data.github_name},[(0,i._)("img",{src:l.getIcon("github")},null,8,Lt)],8,Dt)):(0,i.kq)("",!0),a.data.tv_type&&a.data.tv_id?((0,i.wg)(),(0,i.iD)("a",{key:2,class:(0,n.C_)(["u-link u-link__tv","u-link__"+a.data.tv_type]),href:l.tv_link,target:"_blank",title:`房间号:${a.data.tv_id}`},[(0,i._)("img",{src:l.getIcon(a.data.tv_type)},null,8,Nt)],10,Rt)):(0,i.kq)("",!0)])):(0,i.kq)("",!0)}var Ht={name:"AuthorLink",props:["data"],components:{},data:function(){return{}},computed:{tv_link:function(){return(0,U.tvLink)(this.data.tv_type,this.data.tv_id)||""},isExist(){return this.data.weibo_name||this.data.github_name||this.data.tv_type&&this.data.tv_id}},watch:{},methods:{weiboLink:function(t){return"https://weibo.com/"+t},githubLink:function(t){return"https://github.com/"+t},getIcon:function(t){return a(13691)("./"+t+".svg")}},created:function(){},mounted:function(){}};const Pt=(0,bt.Z)(Ht,[["render",St],["__scopeId","data-v-b505e0a8"]]);var Ut=Pt;const Bt={class:"c-author-follow"},qt={class:"u-action-list"},Wt=["onClick"];function Vt(t,e,a,s,l,r){const u=(0,i.up)("el-button"),c=(0,i.up)("el-popover");return(0,i.wg)(),(0,i.iD)("div",Bt,[l.isFollow?((0,i.wg)(),(0,i.j4)(c,{key:1,placement:"bottom",trigger:"hover","popper-class":"c-author-follow-popover","visible-arrow":!0},{reference:(0,i.w5)((()=>[(0,i.Wm)(u,{class:"u-trigger",type:r.btnType,plain:"",icon:"Check"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(r.btnText),1)])),_:1},8,["type"])])),default:(0,i.w5)((()=>[(0,i._)("div",qt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.actions,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"u-action-item",key:t.label,onClick:(0,o.iM)(t.action,["stop"])},(0,n.zw)(t.label),9,Wt)))),128))])])),_:1})):((0,i.wg)(),(0,i.j4)(u,{key:0,class:(0,n.C_)(["u-btn",{"is-follow":l.isFollow,"u-fans-box":r.isSelf}]),plain:"",icon:"Plus",onClick:r.follow,loading:l.loading,disabled:r.isSelf},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(r.btnText),1)])),_:1},8,["class","onClick","loading","disabled"]))])}var Ot=a(18371);function Ft(t){return(0,Ot.c)().post(`/api/my-userlist/follow/${t}`)}function $t(t){return(0,Ot.c)().delete(`/api/my-userlist/follow/${t}`)}function Zt(t){return(0,Ot.c)().get(`/api/followers/${t}/count`)}var Yt={name:"AuthorFollow",props:{uid:{type:Number,default:0}},data(){return{isFollow:!1,fansNum:0,loading:!1}},computed:{btnText(){return this.isFollow?"已粉":"关注"},btnType(){return this.isFollow?"info":"warning"},actions(){return[{label:"发送私信",action:()=>{window.open("/dashboard/letter?receiver="+this.uid)}},{label:"取消关注",action:()=>{this.unfollow()}}]},isSelf(){return this.uid==this.user.uid},user(){return dt.Z.getInfo()},isLogin:function(){return dt.Z.isLogin()}},watch:{uid:{immediate:!0,handler(t){t&&this.loadFans()}}},methods:{formatFansNum(t){return t<1e4?0===t?"":t:(t/1e4).toFixed(1)+"万"},follow(){this.isLogin?Ft(this.uid).then((()=>{this.$message.success("关注成功"),this.isFollow=!0,this.loadFans()})).catch((t=>{console.log(t)})):dt.Z.toLogin()},unfollow(){this.$confirm("确定不再关注此人？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{$t(this.uid).then((()=>{this.$message.success("取关成功"),this.isFollow=!1,this.loadFans()})).catch((t=>{console.log(t)}))}))},loadFans(){this.loading=!0,Zt(this.uid).then((t=>{this.fansNum=t.data.data.follower_count||0,this.isFollow=t.data.data.is_followed})).catch((t=>{console.log(t)})).finally((()=>{this.loading=!1}))}}};const Qt=(0,bt.Z)(Yt,[["render",Vt]]);var jt=Qt;const Gt=t=>((0,i.dD)("data-v-70ca7aaa"),t=t(),(0,i.Cn)(),t),Kt={class:"c-author-gift"},Xt={class:"u-content"},Jt={class:"u-left"},te=Gt((()=>(0,i._)("em",{class:"u-label"},"🌟 金箔",-1))),ee=["href"],ae={class:"u-list"},ie=Gt((()=>(0,i._)("em",{class:"u-label"},"❤️ 赠送",-1))),ne={class:"u-points"},oe={class:"u-msg"},se=Gt((()=>(0,i._)("em",{class:"u-label"},"📝 寄语",-1))),le={class:"u-input"},re={class:"dialog-footer"};function ue(t,e,a,o,s,l){const r=(0,i.up)("el-button"),u=(0,i.up)("el-radio"),c=(0,i.up)("el-radio-group"),d=(0,i.up)("el-input"),h=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",Kt,[(0,i.Wm)(r,{class:"u-btn",icon:"Present",onClick:l.openGiftDialog,disabled:l.isSelf||!t.status,title:l.btnTitle,plain:""},{default:(0,i.w5)((()=>[(0,i.Uk)("赠礼")])),_:1},8,["onClick","disabled","title"]),t.status?((0,i.wg)(),(0,i.j4)(h,{key:0,title:"赠礼",modelValue:t.visible,"onUpdate:modelValue":e[3]||(e[3]=e=>t.visible=e),"append-to-body":!0,class:"c-author-gift-dialog"},{footer:(0,i.w5)((()=>[(0,i._)("span",re,[(0,i.Wm)(r,{onClick:e[2]||(e[2]=e=>t.visible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(r,{type:"primary",onClick:l.submit,disabled:!l.ready||t.loading,loading:t.loading},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick","disabled","loading"])])])),default:(0,i.w5)((()=>[(0,i._)("div",Xt,[(0,i._)("div",Jt,[te,(0,i._)("b",null,(0,n.zw)(t.left),1),(0,i._)("a",{class:"u-charge",href:t.chargeLink,target:"_blank"},"[充值]",8,ee)]),(0,i._)("div",ae,[ie,(0,i._)("div",ne,[(0,i.Wm)(c,{modelValue:t.count,"onUpdate:modelValue":e[0]||(e[0]=e=>t.count=e)},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.fitPoints,(t=>((0,i.wg)(),(0,i.j4)(u,{label:t,key:t,border:""},{default:(0,i.w5)((()=>[(0,i._)("b",null,(0,n.zw)(t),1),(0,i.Uk)("金箔 ")])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])]),(0,i._)("div",oe,[se,(0,i._)("div",le,[(0,i.Wm)(d,{modelValue:t.remark,"onUpdate:modelValue":e[1]||(e[1]=e=>t.remark=e),placeholder:"请输入寄语（必填）",minlength:2,maxlength:30,"show-word-limit":""},null,8,["modelValue"])])])])])),_:1},8,["modelValue"])):(0,i.kq)("",!0)])}var ce=a(50855),de={name:"AuthorGift",props:["uid"],components:{},data:function(){return{loading:!1,visible:!1,fitPoints:[50,100,250,520,666,888,1314,2288,3344,6666,8888,28888,36888,68888],left:0,status:!0,chargeLink:"/vip/cny?redirect="+location.href,count:0,remark:"辛苦，感谢！"}},computed:{user(){return dt.Z.getInfo()},isSelf(){return this.uid==this.user.uid},ready:function(){return!this.isSelf&&this.left&&this.left>=this.count&&this.count&&this.remark},btnTitle:function(){return this.isSelf?"不能给自己赠送礼物":this.status?"":"作者没有开启接受礼物"}},watch:{uid:{immediate:!0,handler:function(t){t&&this.load()}}},methods:{openGiftDialog:function(){dt.Z.isLogin()?this.visible=!0:dt.Z.toLogin()},submit:async function(){this.loading=!0,(0,ce.ME)(this.user.uid,this.uid,this.count,this.remark).then((t=>{console.info("[AUTHOR.CNY]发起交易");const e=t.data.data.id;console.info("[AUTHOR.CNY]开始轮询交易结果");const a=this.$loading({lock:!0,text:"正在处理中",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.8)"});let i=0;const n=setInterval((async()=>{console.info(`[AUTHOR.CNY]第${i+1}次轮询开始`),await(0,ce.aW)(e).then((t=>{let e=t.data.data.finish;e?(console.info("[AUTHOR.CNY]交易成功"),a.close(),clearInterval(n),this.visible=!1,this.loading=!1,this.$message({message:"赠送成功",type:"success"}),this.left=this.left-this.count,this.count=100,this.remark="辛苦，感谢！"):console.info("[AUTHOR.CNY]重新轮询")})).finally((()=>{i+=1,console.info(`[AUTHOR.CNY]第${i}次轮询结束`)})),i>5&&(console.info(`[AUTHOR.CNY]${i}次轮询未果，退出轮询`),a.close(),clearInterval(n),this.visible=!1,this.loading=!1,this.$message("交易繁忙，请稍后再试"))}),1e3)}))},load:function(){dt.Z.isLogin()&&(0,ce.bQ)(this.uid).then((t=>{this.left=t.data.data.cny||0,this.status=t.data.data.targetUserCanReceiveCNY}))}},created:function(){},mounted:function(){}};const he=(0,bt.Z)(de,[["render",ue],["__scopeId","data-v-70ca7aaa"]]);var pe=he;const fe={key:0,class:"c-author-fans"},me={class:"u-label"},ve={height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},ge=(0,i.uE)('<path d="M332.664 236.024c-5.068-15.4-19.946-30.468-36.121-30.187-15.639.272-28.631 9.62-35.428 22.357a5.691 5.691 0 01-10.23 0c-6.8-12.737-19.788-22.085-35.428-22.357-16.175-.281-31.052 14.792-36.12 30.187-16.268 49.414 34.306 82.148 69.791 94.671a20.58 20.58 0 0013.744 0c35.476-12.519 86.061-45.243 69.792-94.671z" fill="#f06292"></path><g fill="#ffd54f"><path d="M125.852 335.868a11.962 11.962 0 01-17.218-3.684 147.677 147.677 0 013.136-152.857 12.02 12.02 0 0117.458-3.106l12.747 9.787a11.967 11.967 0 012.915 15.792 107.683 107.683 0 00-2.4 109.009 12.059 12.059 0 01-3.49 15.814z"></path><path d="M63.179 396.455a11.978 11.978 0 01-17.027-3.243 250.158 250.158 0 013.839-274.588 12.028 12.028 0 0117.2-2.892l19.181 14.483a11.963 11.963 0 012.776 16.2A202.162 202.162 0 0085.9 366.266a12.034 12.034 0 01-3.141 16.255zM386.148 335.868a11.962 11.962 0 0017.218-3.684 147.677 147.677 0 00-3.136-152.857 12.02 12.02 0 00-17.458-3.106l-12.747 9.787a11.967 11.967 0 00-2.915 15.792 107.683 107.683 0 012.4 109.009 12.059 12.059 0 003.49 15.814z"></path><path d="M448.821 396.455a11.978 11.978 0 0017.027-3.243 250.158 250.158 0 00-3.839-274.588 12.028 12.028 0 00-17.2-2.892l-19.181 14.483a11.963 11.963 0 00-2.776 16.2 202.162 202.162 0 013.248 219.851 12.034 12.034 0 003.141 16.255z"></path></g>',2),_e=[ge],we=(0,i._)("span",null,"粉丝榜",-1),be={class:"f-avatar"},ye=["href"],ke={key:0,class:"f-avatar-num"},ze={key:1,class:"f-avatar-num"},Me={class:"f-bottom"};function xe(t,e,a,o,s,l){const r=(0,i.up)("Avatar"),u=(0,i.up)("el-icon"),c=(0,i.up)("el-avatar"),d=(0,i.up)("el-tooltip");return s.list&&s.list.length?((0,i.wg)(),(0,i.iD)("div",fe,[(0,i._)("div",me,[((0,i.wg)(),(0,i.iD)("svg",ve,_e)),we]),(0,i._)("div",be,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.list,(t=>((0,i.wg)(),(0,i.j4)(d,{class:"item",effect:"dark",content:"累计打赏"+t.money.toString()+"金箔",placement:"top",key:t.pay_user_id},{default:(0,i.w5)((()=>[(0,i._)("a",{class:"u-fan",href:l.authorLink(t.pay_user_id)},[(0,i.Wm)(c,{class:"u-avatar",shape:"circle",size:20,src:l.showAvatar(t.pay_user.avatar)},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})])),_:2},1032,["src"])],8,ye)])),_:2},1032,["content"])))),128)),s.total>s.MAX_LENGTH?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"u-avatar u-more",shape:"circle",size:20},{default:(0,i.w5)((()=>[s.total>99?((0,i.wg)(),(0,i.iD)("span",ke,"···")):((0,i.wg)(),(0,i.iD)("span",ze,"+"+(0,n.zw)(s.total-s.MAX_LENGTH),1))])),_:1})):(0,i.kq)("",!0)]),(0,i._)("div",Me,"本赛季共 "+(0,n.zw)(s.total)+" 人为TA赠礼",1)])):(0,i.kq)("",!0)}var Ce={name:"AuthorFans",props:{uid:{type:Number,default:0}},data(){return{list:[],total:0,MAX_LENGTH:8}},methods:{getData(){(0,ht.GK)(this.uid).then((t=>{this.list=t.data.data.list?.slice(0,this.MAX_LENGTH)||[],this.total=t.data.data.totalUser||0}))},showAvatar:U.showAvatar,authorLink:U.authorLink},watch:{uid:{immediate:!0,handler:function(){this.getData()}}}};const Ie=(0,bt.Z)(Ce,[["render",xe]]);var Ae=Ie;const Ee={key:0,class:"c-author-medals"},Te={class:"u-label"},De={height:"512",viewBox:"0 0 512 512",width:"512",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},Le=(0,i.uE)('<path d="M346.005 512a14.998 14.998 0 01-9.884-3.714l-79.912-69.963-80.359 69.988A15.001 15.001 0 01150.999 497V261.02c0-8.284 6.716-15 15-15h180.003c8.284 0 15 6.716 15 15V497a15 15 0 01-14.997 15z" fill="#28c1d1"></path><path d="M346.002 246.02H256v192.486l.209-.182 79.912 69.963a15 15 0 0024.881-11.286V261.02c0-8.285-6.716-15-15-15z" fill="#008896"></path><path d="M256 356.574a14.999 14.999 0 01-12.99-7.5l-43.381-75.138h-84.465a14.999 14.999 0 01-12.99-22.5l42.233-73.149-42.233-73.149a14.998 14.998 0 0112.99-22.5h84.465L243.01 7.5a14.999 14.999 0 0125.98 0l43.381 75.138h84.465a14.999 14.999 0 0112.99 22.5l-42.233 73.149 42.233 73.149a14.998 14.998 0 01-12.99 22.5h-84.465l-43.381 75.138a14.999 14.999 0 01-12.99 7.5z" fill="#fff566"></path><path d="M268.99 349.074l43.381-75.138h84.465a14.999 14.999 0 0012.99-22.5l-42.233-73.149 42.233-73.149a14.998 14.998 0 00-12.99-22.5h-84.465L268.99 7.5A14.999 14.999 0 00256 0v356.574a14.999 14.999 0 0012.99-7.5z" fill="#ffcf2c"></path><path d="M312.586 273.936h84.251a14.999 14.999 0 0012.99-22.5l-42.233-73.149H256zM115.164 82.638a14.999 14.999 0 00-12.99 22.5l42.233 73.149H256l-56.585-95.649z" fill="#ffb500"></path><path d="M396.837 82.638h-84.251L256 178.287h111.594l42.233-73.149a14.998 14.998 0 00-12.99-22.5z" fill="#ff9300"></path><path d="M102.174 251.436a14.998 14.998 0 0012.99 22.5h84.251L256 178.287H144.406z" fill="#ffcf2c"></path><path d="M93.36 193.29c-3.95 0-7.81-1.6-10.61-4.391-2.79-2.8-4.39-6.67-4.39-10.609 0-3.95 1.6-7.82 4.39-10.61 2.8-2.79 6.66-4.39 10.61-4.39s7.82 1.6 10.61 4.39 4.39 6.66 4.39 10.61-1.6 7.81-4.39 10.609a15.112 15.112 0 01-10.61 4.391z" fill="#ffb500"></path><path d="M418.64 193.29c-3.95 0-7.81-1.6-10.61-4.391-2.79-2.8-4.39-6.67-4.39-10.609 0-3.95 1.6-7.82 4.39-10.61s6.66-4.39 10.61-4.39 7.81 1.6 10.61 4.39c2.79 2.79 4.39 6.66 4.39 10.61 0 3.94-1.6 7.81-4.39 10.609a15.13 15.13 0 01-10.61 4.391z" fill="#ff9300"></path>',9),Re=[Le],Ne=(0,i._)("span",null,"作者荣誉",-1),Se={key:0,class:"u-medals"},He=["href"],Pe=["src"];function Ue(t,e,a,n,o,s){const l=(0,i.up)("el-tooltip");return s.ready?((0,i.wg)(),(0,i.iD)("div",Ee,[(0,i._)("div",Te,[((0,i.wg)(),(0,i.iD)("svg",De,Re)),Ne]),t.medals&&t.medals.length?((0,i.wg)(),(0,i.iD)("div",Se,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.medals,(t=>((0,i.wg)(),(0,i.j4)(l,{class:"item",effect:"dark",content:t.medal_desc,placement:"top",key:t.id},{default:(0,i.w5)((()=>[(0,i._)("a",{href:s.getMedalLink(t),target:"_blank",class:"u-medal"},[(0,i._)("img",{class:"u-medal-img",src:s.showIcon(t.medal)},null,8,Pe)],8,He)])),_:2},1032,["content"])))),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)}const{__imgPath:Be}=V;var qe={name:"AuthorMedals",props:["uid"],components:{},data:function(){return{medals:[]}},computed:{ready:function(){return this.uid&&this.medals&&this.medals.length}},watch:{uid:{immediate:!0,handler:function(t){t&&this.loadMedals()}}},methods:{loadMedals:function(){(0,ht.nZ)(this.uid).then((t=>{this.medals=t||[]}))},showIcon(t){return Be+"image/medals/user/"+t+".gif"},getMedalLink(t){return(0,U.getMedalLink)(t.rank_id,t.medal_type||"rank")}},created:function(){},mounted:function(){}};const We=(0,bt.Z)(qe,[["render",Ue]]);var Ve=We;const Oe={key:0,class:"c-author-teams"},Fe={class:"u-label"},$e={height:"512pt",viewBox:"0 -6 512 512",width:"512pt",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},Ze=(0,i.uE)('<path d="M254.57 472.617a7.73 7.73 0 01-7.722-7.508 7.725 7.725 0 017.504-7.941c4.273-.195 7.863 3.113 8.05 7.379.192 4.262-3.12 7.871-7.386 8.058l-.223.008c-.074.004-.148.004-.223.004zm-31.07-1.164c-.305 0-.605-.015-.914-.05l-.02-.005c-4.246-.425-7.32-4.207-6.894-8.457.426-4.246 4.238-7.336 8.48-6.914l.239.024c4.238.5 7.27 4.34 6.77 8.578a7.721 7.721 0 01-7.661 6.824zm62.07-2.383a7.723 7.723 0 01-7.57-6.234 7.722 7.722 0 016.086-9.074l.144-.028a7.727 7.727 0 019.04 6.141 7.727 7.727 0 01-6.137 9.04l-.059.01a7.936 7.936 0 01-1.504.145zm-92.726-3.504c-.672 0-1.356-.09-2.04-.273l-.042-.012c-4.121-1.097-6.582-5.328-5.489-9.449a7.726 7.726 0 019.442-5.492l.16.043a7.724 7.724 0 015.418 9.488 7.728 7.728 0 01-7.45 5.695zm122.836-4.75a7.73 7.73 0 01-7.266-5.086 7.73 7.73 0 014.621-9.902l.13-.043c4.01-1.441 8.437.64 9.882 4.656s-.645 8.442-4.66 9.887l-.067.024a7.747 7.747 0 01-2.64.464zm-152.266-5.789a7.622 7.622 0 01-3.152-.683l-.106-.047a7.726 7.726 0 01-3.847-10.227 7.725 7.725 0 0110.226-3.847c3.89 1.757 5.66 6.351 3.906 10.242a7.714 7.714 0 01-7.027 4.562zm180.727-6.98a7.723 7.723 0 01-6.825-4.09 7.726 7.726 0 013.18-10.457 7.732 7.732 0 0110.496 3.047c2.055 3.738.695 8.437-3.047 10.492l-.175.098a7.702 7.702 0 01-3.63.91zm70.175-69.07l.051.035-.816-.582zm-356.671-33.68a7.738 7.738 0 01-7.165-4.82l-.02-.055c-1.628-3.945.25-8.465 4.192-10.09 3.946-1.629 8.465.25 10.09 4.191l.055.137c1.61 3.953-.297 8.461-4.25 10.067-.95.386-1.938.57-2.902.57zm383.53-14.828a7.731 7.731 0 01-7.36-10.094c1.263-4.059 5.568-6.352 9.634-5.117 4.082 1.242 6.387 5.543 5.153 9.62l-.098.306a7.727 7.727 0 01-7.328 5.285zM48.196 315.55a7.732 7.732 0 01-7.511-5.934l-.024-.101a7.731 7.731 0 015.723-9.313 7.722 7.722 0 019.308 5.723l.024.101a7.726 7.726 0 01-5.719 9.309 7.74 7.74 0 01-1.8.215zm400.086-15.473c-.445 0-.894-.039-1.351-.121a7.727 7.727 0 01-6.282-8.863c.649-4.2 4.567-7.098 8.77-6.48 4.219.624 7.137 4.534 6.516 8.757l-.051.32a7.732 7.732 0 01-7.602 6.387zM43.426 284.691c-3.965 0-7.336-3.023-7.688-7.043l-.023-.32a7.73 7.73 0 017.262-8.168c4.222-.258 7.867 2.957 8.16 7.176.34 4.234-2.801 7.965-7.04 8.328a7.79 7.79 0 01-.671.027zm407.222-15.734a7.724 7.724 0 01-7.726-7.727v-.101-.16-.305a7.727 7.727 0 1115.453 0v.102c0 .054 0 .109-.004.16.004.066.004.133.004.203v.101a7.724 7.724 0 01-7.727 7.727zm-407.242-15.46c-.222 0-.449-.013-.676-.032a7.722 7.722 0 01-7.03-8.344c.296-4.219 3.905-7.433 8.16-7.168a7.726 7.726 0 017.261 8.164l-.027.32a7.725 7.725 0 01-7.688 7.06zm404.817-16.118a7.724 7.724 0 01-7.598-6.387l-.055-.32a7.732 7.732 0 016.524-8.77c4.199-.62 8.133 2.29 8.761 6.5a7.726 7.726 0 01-6.28 8.856 7.592 7.592 0 01-1.352.12zm1.297-8.024l-1.305.192zm-401.426-6.71c-.594 0-1.2-.07-1.801-.215a7.727 7.727 0 01-5.727-9.293 7.728 7.728 0 019.125-5.887c4.176.875 6.856 4.969 5.98 9.145l-.07.316c-.843 3.547-4.011 5.934-7.507 5.934zm393.039-15.61a7.79 7.79 0 01-7.367-5.324l-.086-.27a7.72 7.72 0 015.113-9.656 7.72 7.72 0 019.656 5.113l.004.012c1.348 4.05-.851 8.383-4.902 9.73a7.535 7.535 0 01-2.418.395zM57.46 192.852a7.727 7.727 0 01-7.156-10.637l.039-.094a7.727 7.727 0 0110.066-4.254 7.727 7.727 0 014.25 10.067l-.039.097a7.73 7.73 0 01-7.16 4.82zm371.953-14.758a7.776 7.776 0 01-6.906-4.207l-.117-.227a7.726 7.726 0 013.527-10.344c3.828-1.882 8.457-.304 10.344 3.524l.004.015c1.96 3.79.457 8.422-3.336 10.38a7.632 7.632 0 01-3.516.859zM71.297 164.859a7.655 7.655 0 01-4.016-1.132 7.722 7.722 0 01-2.59-10.59 7.728 7.728 0 0110.477-2.817 7.73 7.73 0 012.73 10.836 7.714 7.714 0 01-6.601 3.703zm342.074-13.57a7.72 7.72 0 01-6.398-3.387c-2.48-3.472-1.657-8.265 1.82-10.746 3.469-2.48 8.32-1.64 10.8 1.832l.165.235a7.73 7.73 0 01-2.055 10.734 7.678 7.678 0 01-4.332 1.332zM89.25 139.316a7.713 7.713 0 01-4.934-1.78 7.73 7.73 0 01-1.007-10.884l.066-.078a7.727 7.727 0 0111.89 9.871l-.066.078a7.701 7.701 0 01-5.949 2.793zm304.215-12.066a7.692 7.692 0 01-5.574-2.375c-2.989-3.047-2.946-7.95.105-10.937 3.043-2.985 7.93-2.942 10.914.105l.13.129a7.726 7.726 0 01-.224 10.926 7.69 7.69 0 01-5.351 2.152zm-282.59-10.45a7.726 7.726 0 01-5.125-13.512l.031-.026c3.176-2.84 8.063-2.582 10.91.593 2.844 3.172 2.594 8.043-.574 10.895l-.125.113a7.706 7.706 0 01-5.117 1.938zm259.258-10.292a7.692 7.692 0 01-4.559-1.492l-.261-.2a7.728 7.728 0 01-1.356-10.843 7.724 7.724 0 0110.824-1.368 7.727 7.727 0 01-4.648 13.903zm.695-8.781l-.773.992zm-235.172.105a7.728 7.728 0 01-4.18-14.23 7.727 7.727 0 0110.653 2.109 7.722 7.722 0 01-2.055 10.73l-.27.18a7.682 7.682 0 01-4.148 1.211zm208.246-8.285a7.663 7.663 0 01-3.609-.902l-.184-.102c-3.738-2.055-5.101-6.754-3.047-10.492s6.754-5.102 10.493-3.047l.023.012c3.73 2.035 5.14 6.718 3.125 10.46a7.722 7.722 0 01-6.8 4.07zm-180.867-6.684a7.733 7.733 0 01-7.05-4.547 7.722 7.722 0 013.855-10.218l.18-.078c3.906-1.715 8.46.07 10.175 3.98a7.73 7.73 0 01-3.984 10.176 7.72 7.72 0 01-3.176.687zm0 0" fill="#a7c7d3"></path><path d="M306.52 411.125L190.187 294.793c-7.292-7.29-7.3-19.086-.019-26.363a18.478 18.478 0 0110.203-5.207c5.7-.918 11.75.82 16.16 5.23l-29.957-29.957a18.593 18.593 0 01-5.469-13.176c0-.992.079-1.988.239-2.98a18.508 18.508 0 015.21-10.207 18.47 18.47 0 0110.067-5.188 18.626 18.626 0 0114.524 3.672l-11.399-11.398a18.625 18.625 0 01-5.473-13.196 17.462 17.462 0 01.25-3.027 18.444 18.444 0 015.192-10.148 18.462 18.462 0 0110.222-5.211 18.617 18.617 0 0116.157 5.23l13.054 13.055a18.632 18.632 0 01-5.23-16.156 18.432 18.432 0 015.21-10.207c7.27-7.27 19.079-7.262 26.364.023l75.602 75.602.21-.301a33.883 33.883 0 0113.165-8.18c11.886-4.008 25.57-1.27 35.054 8.219l35.25 35.25a36.16 36.16 0 0110.594 25.523l.02 22.055a38.923 38.923 0 0011.41 27.492l7.86 7.86-89.91 89.91-10.048-10.047a38.947 38.947 0 00-24.984-11.32 36.146 36.146 0 01-23.195-10.52zm0 0" fill="#fecbaa"></path><path d="M358.902 448.852l102.055-102.055a8.608 8.608 0 0112.176 0l36.344 36.344c3.363 3.363 3.363 8.816 0 12.175L407.426 497.371c-3.363 3.363-8.817 3.363-12.176 0l-36.348-36.344c-3.359-3.363-3.359-8.816 0-12.175zm0 0" fill="#fdd559"></path><path d="M463.672 392.605c3.02 3.02 7.906 3.024 10.918.012 3.012-3.012 3.008-7.902-.008-10.918-3.02-3.02-7.906-3.023-10.918-.011a7.722 7.722 0 00.008 10.917zm0 0" fill="#ff8812"></path><path d="M367.125 261.21l-26.031-26.026.21-.301a33.883 33.883 0 0113.165-8.18l23.582 23.582a7.728 7.728 0 010 10.926 7.721 7.721 0 01-10.926 0zm0 0" fill="#ffae85"></path><path d="M205.48 411.137l116.333-116.332c7.292-7.293 7.3-19.086.023-26.364a18.47 18.47 0 00-10.207-5.21c-5.7-.918-11.75.824-16.16 5.23l29.957-29.953a18.595 18.595 0 005.469-13.18c0-.988-.079-1.988-.239-2.976a18.495 18.495 0 00-5.21-10.207 18.469 18.469 0 00-10.067-5.188 18.626 18.626 0 00-14.524 3.672l11.399-11.402a18.61 18.61 0 005.473-13.192 17.475 17.475 0 00-.25-3.031 18.43 18.43 0 00-5.192-10.149 18.48 18.48 0 00-10.222-5.207 18.606 18.606 0 00-16.157 5.23l-13.054 13.056a18.64 18.64 0 005.23-16.16 18.457 18.457 0 00-5.21-10.208c-7.27-7.27-19.079-7.261-26.364.024l-75.602 75.601-.21-.296a33.883 33.883 0 00-13.165-8.18c-11.89-4.008-25.57-1.27-35.054 8.215l-35.25 35.254a36.16 36.16 0 00-10.594 25.523l-.024 22.05a38.905 38.905 0 01-11.406 27.497l-7.86 7.86 89.91 89.91 10.048-10.047a38.947 38.947 0 0124.984-11.32 36.146 36.146 0 0023.195-10.52zm0 0" fill="#fecbaa"></path><path d="M153.098 448.86L51.043 346.808a8.608 8.608 0 00-12.176 0L2.523 383.152a8.608 8.608 0 000 12.176l102.051 102.055a8.612 8.612 0 0012.18 0l36.344-36.344a8.612 8.612 0 000-12.18zm0 0" fill="#ff84a7"></path><path d="M118.266 462.547c3.02-3.02 3.023-7.906.011-10.918-3.011-3.016-7.902-3.012-10.918.008-3.02 3.015-3.023 7.906-.011 10.918a7.722 7.722 0 0010.918-.008zm0 0" fill="#ef6085"></path><path d="M144.879 261.223l26.027-26.032-.21-.296a33.883 33.883 0 00-13.165-8.18l-23.582 23.578a7.733 7.733 0 000 10.93 7.726 7.726 0 0010.93 0zm0 0" fill="#ffae85"></path><path d="M330.402 132.336v164.52c0 10.312-8.332 18.656-18.625 18.656-4.07 0-7.84-1.309-10.902-3.535a18.619 18.619 0 01-7.727-15.122v42.364a18.593 18.593 0 01-7.726 15.12 18.483 18.483 0 01-10.899 3.536c-4.027 0-7.75-1.277-10.789-3.45a18.617 18.617 0 01-7.672-12.87v16.125c0 5.152-2.093 9.828-5.46 13.195a17.635 17.635 0 01-2.317 1.969 18.45 18.45 0 01-10.851 3.504 18.48 18.48 0 01-10.91-3.543 18.62 18.62 0 01-7.727-15.125v-18.461a18.619 18.619 0 01-7.727 15.12 18.439 18.439 0 01-10.898 3.536c-10.285 0-18.629-8.355-18.629-18.656V232.3l-.36.062a33.93 33.93 0 01-15.093-3.523c-11.238-5.574-18.977-17.184-18.977-30.598v-49.855a36.18 36.18 0 0110.559-25.54l15.578-15.605a38.918 38.918 0 0011.375-27.508V68.617h127.148v14.207a38.959 38.959 0 009.664 25.672 36.149 36.149 0 018.965 23.84zm0 0" fill="#fedfc5"></path><path d="M321.836 268.441a18.495 18.495 0 00-10.207-5.21c-5.7-.919-11.75.824-16.16 5.234l29.957-29.957a18.597 18.597 0 005.23-16.156 18.489 18.489 0 00-5.207-10.207 18.482 18.482 0 00-10.066-5.188 18.639 18.639 0 00-14.528 3.672l11.403-11.402a18.622 18.622 0 005.469-13.192 17.535 17.535 0 00-.247-3.031 18.463 18.463 0 00-5.195-10.149 18.47 18.47 0 00-10.219-5.207 18.625 18.625 0 00-16.16 5.23l-13.054 13.056a18.64 18.64 0 005.23-16.16 18.476 18.476 0 00-5.207-10.208c-7.273-7.27-19.082-7.261-26.367.024l-75.602 75.601-.21-.296a33.883 33.883 0 00-13.165-8.18 34.244 34.244 0 00-17.687-1.094c4.726 7.145 11.336 13.07 19.39 17.066a49.772 49.772 0 006.86 2.786v93.746c0 18.808 15.289 34.11 34.078 34.11 2.262 0 4.488-.22 6.656-.65a33.981 33.981 0 0010.602 12.614 33.87 33.87 0 009.16 4.734l95.223-95.222c7.292-7.293 7.3-19.086.023-26.364zm0 0" fill="#ffae85"></path><path d="M345.848 296.855V231.06a34.569 34.569 0 00-4.551 3.824l-.211.3-75.602-75.601c-7.285-7.285-19.093-7.293-26.363-.023a18.432 18.432 0 00-5.21 10.207 18.632 18.632 0 005.23 16.156l-13.055-13.055a18.617 18.617 0 00-16.156-5.23 18.462 18.462 0 00-10.223 5.21 18.45 18.45 0 00-5.195 10.15 17.851 17.851 0 00-.246 3.026c0 4.766 1.828 9.551 5.472 13.196l11.399 11.398a18.63 18.63 0 00-14.524-3.672 18.47 18.47 0 00-10.066 5.188 18.508 18.508 0 00-5.211 10.207c-.16.992-.242 1.988-.238 2.98a18.57 18.57 0 005.468 13.176l29.957 29.957a18.617 18.617 0 00-16.156-5.23 18.476 18.476 0 00-10.207 5.207c-7.277 7.28-7.27 19.074.02 26.367l77.933 77.93c2.094.398 4.235.601 6.403.601 7.222 0 14.129-2.238 19.941-6.453a34.442 34.442 0 004.164-3.543c6.434-6.434 9.977-14.996 9.977-24.113v-8.399c1.047.098 2.109.145 3.172.145 18.789 0 34.078-15.3 34.078-34.11zm0 0" fill="#ffae85"></path><path d="M330.402 132.336v164.52c0 10.312-8.332 18.656-18.625 18.656-.277 0-.578 0-.875-.02a18.434 18.434 0 01-10.004-3.504c-.011 0-.011-.011-.023-.011a18.619 18.619 0 01-7.727-15.122v42.364a18.593 18.593 0 01-7.726 15.12 18.483 18.483 0 01-10.899 3.536c-4.027 0-7.75-1.277-10.789-3.45a18.617 18.617 0 01-7.671-12.87v16.125c0 5.152-2.094 9.828-5.461 13.195a17.635 17.635 0 01-2.317 1.969 18.45 18.45 0 01-10.851 3.504 18.48 18.48 0 01-10.91-3.543 18.62 18.62 0 01-7.727-15.125v-18.461a18.619 18.619 0 01-7.727 15.12 18.439 18.439 0 01-10.898 3.536c-10.285 0-18.629-8.355-18.629-18.656V232.3l-.36.062a33.93 33.93 0 01-15.093-3.523c-11.238-5.574-18.977-17.184-18.977-30.598v-49.855a36.18 36.18 0 0110.559-25.54l15.578-15.605a38.798 38.798 0 009.633-16.012 38.752 38.752 0 001.742-11.496V68.617h127.148v14.207c0 3.184.344 6.543 1.227 9.61a38.738 38.738 0 008.438 16.062c5.73 6.543 8.964 15.125 8.964 23.84zm0 0" fill="#fedfc5"></path><path d="M330.402 132.336v164.52c0 10.312-8.332 18.656-18.625 18.656-.277 0-.578 0-.875-.02a18.434 18.434 0 01-10.004-3.504l.317-158.531c0-.957-.215-2.473-.617-4.398-7.11-34.63-36.336-57.829-71.684-57.829h-46.031a38.771 38.771 0 001.742-11.496V68.617h127.148v14.207c0 3.184.344 6.543 1.227 9.61a38.738 38.738 0 008.438 16.062c5.73 6.543 8.964 15.125 8.964 23.84zm0 0" fill="#fecbaa"></path><path d="M320.04 68.621H175.71a8.61 8.61 0 01-8.608-8.61V8.61A8.61 8.61 0 01175.71 0h144.328a8.61 8.61 0 018.61 8.61v51.402a8.61 8.61 0 01-8.61 8.61zm0 0" fill="#83d9ff"></path><path d="M207.89 34.313c0-4.27-3.452-7.727-7.714-7.727s-7.715 3.457-7.715 7.727c0 4.265 3.453 7.726 7.715 7.726s7.715-3.46 7.715-7.727zm0 0" fill="#5186ff"></path><g fill="#fecbaa"><path d="M300.879 210.758v101.219a18.613 18.613 0 01-7.73-15.125v42.363c0 5.152-2.079 9.82-5.45 13.187a18.07 18.07 0 01-2.277 1.938V210.758a7.731 7.731 0 017.726-7.727c4.266 0 7.73 3.461 7.73 7.727zm0 0M263.738 210.758v143.664a18.621 18.621 0 01-7.676-12.867v16.125c0 5.148-2.09 9.828-5.46 13.195a17.68 17.68 0 01-2.317 1.969V210.758c0-4.266 3.461-7.727 7.727-7.727s7.726 3.461 7.726 7.727zm0 0M226.523 210.758V372.8a18.619 18.619 0 01-7.726-15.121v-18.465a18.626 18.626 0 01-7.727 15.125V210.758a7.731 7.731 0 017.727-7.727 7.721 7.721 0 017.726 7.727zm0 0M181.547 195.488v36.813l-.363.058a33.898 33.898 0 01-15.09-3.52v-33.35a7.729 7.729 0 017.726-7.727 7.724 7.724 0 017.727 7.726zm0 0"></path></g>',17),Ye=[Ze],Qe=(0,i._)("span",null,"所在团队",-1),je={class:"u-teams"},Ge=["href"],Ke=["src"],Xe={class:"u-team-name"};function Je(t,e,a,o,s,l){const r=(0,i.up)("el-tooltip");return l.ready?((0,i.wg)(),(0,i.iD)("div",Oe,[(0,i._)("div",Fe,[((0,i.wg)(),(0,i.iD)("svg",$e,Ye)),Qe]),(0,i._)("div",je,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.teams,((t,e)=>((0,i.wg)(),(0,i.j4)(r,{class:"item",effect:"dark",content:t.team_name+"@"+t.team_server,placement:"top",key:e},{default:(0,i.w5)((()=>[(0,i._)("a",{class:"u-team",href:l.teamLink(t.team_id),target:"_blank"},[(0,i._)("img",{class:"u-team-logo",src:l.showTeamLogo(t.team_logo)},null,8,Ke),(0,i._)("span",Xe,(0,n.zw)(t.team_name)+"@"+(0,n.zw)(t.team_server),1)],8,Ge)])),_:2},1032,["content"])))),128))])])):(0,i.kq)("",!0)}var ta={name:"AuthorTeams",props:["uid"],components:{},data:function(){return{teams:[]}},computed:{ready:function(){return this.uid&&this.teams&&this.teams.length}},watch:{uid:{immediate:!0,handler:function(t){t&&this.loadTeams()}}},methods:{loadTeams:function(){(0,ht.iR)(this.uid).then((t=>{this.teams=t&&t.slice(0,8)}))},teamLink:function(t){return(0,U.getLink)("org",t)},showTeamLogo:function(t){return(0,U.getThumbnail)(t,96)}},created:function(){},mounted:function(){}};const ea=(0,bt.Z)(ta,[["render",Je]]);var aa=ea;const ia={key:0,class:"c-author-posts"},na={class:"u-label"},oa={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512.092 512.092","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},sa=(0,i._)("path",{d:"M396.784 446.553L266.011 115.886a10.667 10.667 0 00-8.661-6.656L54.683 85.38c-5.752-.808-11.07 3.2-11.878 8.952-.018.13-.034.261-.048.392L.091 436.057c-.763 5.841 3.353 11.196 9.194 11.959.085.011.171.021.256.03l373.333 42.667h1.216a10.667 10.667 0 0010.667-9.664l2.773-29.589a10.635 10.635 0 00-.746-4.907z",fill:"#ffa000"},null,-1),la=(0,i._)("path",{d:"M469.424 94.724c-.684-5.851-5.983-10.04-11.834-9.355l-.092.011-91.733 10.795-270.933 31.871c-5.801.659-9.994 5.86-9.408 11.669l32 341.333a10.667 10.667 0 0010.667 9.664h1.216l373.333-42.667c5.853-.671 10.053-5.96 9.382-11.813a6.114 6.114 0 00-.016-.134L469.424 94.724z",fill:"#ffe082"},null,-1),ra=(0,i._)("path",{d:"M309.424 170.713a10.667 10.667 0 01-7.552-18.219l53.333-53.333c4.093-4.237 10.845-4.355 15.083-.262 4.237 4.093 4.354 10.845.262 15.083-.086.089-.173.176-.262.262l-53.333 53.333a10.664 10.664 0 01-7.531 3.136z",fill:"#455a64"},null,-1),ua=(0,i._)("circle",{cx:"394.758",cy:"74.713",r:"53.333",fill:"#f44336"},null,-1),ca=[sa,la,ra,ua],da=(0,i._)("span",null,"最新作品",-1),ha=["href"],pa={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 426.667 426.667","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},fa=(0,i._)("circle",{cx:"42.667",cy:"213.333",r:"42.667"},null,-1),ma=(0,i._)("circle",{cx:"213.333",cy:"213.333",r:"42.667"},null,-1),va=(0,i._)("circle",{cx:"384",cy:"213.333",r:"42.667"},null,-1),ga=[fa,ma,va],_a={key:0,class:"u-list"},wa=["href"],ba={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","svg-inline":"",class:(0,n.C_)("u-icon"),role:"presentation",focusable:"false",tabindex:"-1"},ya=(0,i.uE)('<path d="M286.187 268.435L112.968 441.677c-6.875 6.876-18.021 6.876-24.897.001L45.214 398.82c-6.874-6.874-6.875-18.02-.001-24.894l117.914-117.939-69.122-69.122-48.79-48.79c-6.875-6.875-6.875-18.021 0-24.896l42.857-42.857c6.875-6.875 18.021-6.875 24.896 0l116.543 116.543 56.675 56.675c6.874 6.874 6.875 18.02.001 24.895z" fill="#00d8de"></path><path d="M230.853 188.261L163.1 256.014l-25.897-25.897-43.197-43.252-48.79-48.79c-6.875-6.875-6.875-18.021 0-24.896L88.07 70.325c6.876-6.876 18.025-6.875 24.899.003l91.987 92.035 25.897 25.898z" fill="#00a5ff"></path><path fill="#0087ff" d="M230.853 188.261L163.1 256.014l-16.43-16.457 67.752-67.753z"></path><path d="M466.786 268.435L293.568 441.677c-6.875 6.876-18.022 6.876-24.897.001l-42.858-42.858c-6.874-6.874-6.875-18.02-.001-24.894l117.914-117.939-69.122-69.122-48.79-48.79c-6.875-6.875-6.875-18.021 0-24.896l42.857-42.857c6.875-6.875 18.021-6.875 24.896 0L410.11 186.865l56.675 56.675c6.875 6.874 6.875 18.02.001 24.895z" fill="#00a5ff"></path><path d="M411.452 188.261l-67.753 67.753-25.897-25.897-43.197-43.252-48.79-48.79c-6.875-6.875-6.875-18.021 0-24.896l42.854-42.854c6.876-6.876 18.025-6.875 24.899.003l91.987 92.035 25.897 25.898z" fill="#00d8de"></path><g fill="#05c1c1"><path d="M411.452 188.261l-67.753 67.753-16.43-16.457 67.753-67.753zM494.01 488.583a7.5 7.5 0 00-7.5 7.5v8.417c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-8.417a7.5 7.5 0 00-7.5-7.5zM449.738 488.583a7.5 7.5 0 00-7.5 7.5v8.417c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-8.417a7.5 7.5 0 00-7.5-7.5zM405.466 488.583a7.5 7.5 0 00-7.5 7.5v8.417c0 4.142 3.357 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-8.417a7.5 7.5 0 00-7.5-7.5z"></path></g><g fill="#0087ff"><path d="M106.534 23.417a7.5 7.5 0 007.5-7.5V7.5a7.5 7.5 0 00-15 0v8.417a7.5 7.5 0 007.5 7.5zM62.262 23.417a7.5 7.5 0 007.5-7.5V7.5a7.5 7.5 0 00-15 0v8.417a7.5 7.5 0 007.5 7.5zM17.99 0a7.5 7.5 0 00-7.5 7.5v8.417a7.5 7.5 0 0015 0V7.5a7.5 7.5 0 00-7.5-7.5z"></path></g>',7),ka=[ya];function za(t,e,a,o,s,l){return l.ready?((0,i.wg)(),(0,i.iD)("div",ia,[(0,i._)("div",na,[((0,i.wg)(),(0,i.iD)("svg",oa,ca)),da,(0,i._)("a",{href:l.authorLink(a.uid),class:"u-more",target:"_blank"},[((0,i.wg)(),(0,i.iD)("svg",pa,ga))],8,ha)]),t.data&&t.data.length?((0,i.wg)(),(0,i.iD)("ul",_a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.data,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i._)("a",{class:"u-item",href:l.url(t.ID,t.post_type),target:"_blank"},[(0,i._)("span",null,[((0,i.wg)(),(0,i.iD)("svg",ba,ka)),(0,i.Uk)(" "+(0,n.zw)(t.post_title||t.post_type+"/无标题"),1)])],8,wa)])))),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)}var Ma={name:"AuthorPosts",props:["uid"],data:function(){return{data:[]}},computed:{ready:function(){return this.uid&&this.data&&this.data.length}},watch:{uid:{immediate:!0,handler:function(t){t&&this.init()}}},methods:{url:function(t,e){return(0,U.getLink)(e,t)},init:function(){(0,ht.ww)(this.uid).then((t=>{this.data=t.slice(0,5)})).catch((t=>{console.log(t)}))},authorLink:U.authorLink}};const xa=(0,bt.Z)(Ma,[["render",za]]);var Ca=xa,Ia={name:"AuthorComp",props:["uid"],data:function(){return{data:""}},methods:{installModules:function(t){this.data=t}},components:{AuthorInfo:It,AuthorLink:Ut,AuthorFollow:jt,AuthorGift:pe,AuthorMedals:Ve,AuthorTeams:aa,AuthorPosts:Ca,AuthorFans:Ae}};const Aa=(0,bt.Z)(Ia,[["render",K]]);var Ea=Aa,Ta={name:"SingleNav",components:{Author:Ea},computed:{uid(){return(0,B.o)().userId}}};const Da=(0,bt.Z)(Ta,[["render",Q]]);var La=Da,Ra=a.p+"img/topic_bg_bps.7b450174.svg";const Na=t=>((0,i.dD)("data-v-f0574fae"),t=t(),(0,i.Cn)(),t),Sa={class:"c-post-topic"},Ha={class:"c-post-topic__banner"},Pa={class:"c-topic-text"},Ua={class:"c-topic-text__year"},Ba={class:"c-topic-text__text"},qa=Na((()=>(0,i._)("img",{class:"c-topic-bg",src:Ra,alt:""},null,-1))),Wa={class:"c-post-topic__img"},Va=["src"];function Oa(t,e,a,s,l,r){return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",Sa,[(0,i._)("div",Ha,[(0,i._)("div",Pa,[(0,i._)("div",Ua,(0,n.zw)(r.year),1),(0,i._)("div",Ba,(0,n.zw)(r.topicText),1)]),qa]),(0,i._)("div",Wa,[(0,i._)("img",{src:r.topicImage,alt:""},null,8,Va)])],512)),[[o.F8,l.topicInfo]])}var Fa=a(27484),$a=a.n(Fa),Za={name:"PostTopic",props:{type:{type:String,default:"bps"},id:{type:Number,default:46917}},data(){return{topicInfo:null}},computed:{topicText(){return this.topicInfo?`${$a()(this.topicInfo?.created_at).format("MM月DD日")}荣登头条榜`:""},year(){return $a()(this.topicInfo?.created_at).format("YYYY年")},topicImage(){return this.topicInfo?(0,U.getThumbnail)(this.topicInfo.img,[520,156]):""},client(){return location.href.includes("origin")?"origin":"std"}},watch:{id:{immediate:!0,handler(t){t&&this.loadData()}}},methods:{loadData(){(0,mt.IX)(this.type,this.id).then((t=>{if(t.data.data?.list){const e=t.data.data.list.sort(((t,e)=>$a()(e.created_at).isAfter($a()(t.created_at))?1:-1));this.topicInfo=e[0]}}))}}};const Ya=(0,bt.Z)(Za,[["render",Oa],["__scopeId","data-v-f0574fae"]]);var Qa=Ya,ja={name:"SingleLayout",props:{hasRight:{type:Boolean,default:!0}},data:function(){return{id:(0,U.getAppID)()}},computed:{user_id(){return(0,B.o)().userId},postId(){return(0,B.o)().postId},title(){var t;return(null===(t=(0,B.o)().post)||void 0===t?void 0:t.title)||document.title}},methods:{},components:{Nav:La,PostTopic:Qa}};const Ga=(0,bt.Z)(ja,[["render",Z]]);var Ka=Ga;const Xa={key:0,class:"m-single-header"},Ja={class:"m-single-title"},ti=["href","title"],ei={key:0,class:"u-original"},ai={key:1,class:"u-private"},ii={class:"u-title-text"},ni={class:"m-single-info"},oi={class:"u-author u-sub-block"},si={class:"u-author-icon"},li={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 16",width:"12",height:"16","aria-hidden":"true",fill:"#444","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},ri=(0,i._)("path",{"fill-rule":"evenodd",d:"M12 14.002a.998.998 0 01-.998.998H1.001A1 1 0 010 13.999V13c0-2.633 4-4 4-4s.229-.409 0-1c-.841-.62-.944-1.59-1-4 .173-2.413 1.867-3 3-3s2.827.586 3 3c-.056 2.41-.159 3.38-1 4-.229.59 0 1 0 1s4 1.367 4 4v1.002z"},null,-1),ui=[ri],ci=["href"],di={class:"u-meta u-sub-block"},hi=(0,i._)("em",{class:"u-label"},"适用客户端",-1),pi=["title"],fi={class:"u-icon-podate"},mi={xmlns:"http://www.w3.org/2000/svg",fill:"#6a737d",viewBox:"0 0 485.2 485.2","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},vi=(0,i._)("path",{d:"M60.7 75.8V15.2C60.7 6.8 67.4 0 75.8 0 84.2 0 91 6.8 91 15.2v60.7C91 84.2 84.2 91 75.8 91c-8.4 0-15.1-6.8-15.1-15.2zM318.4 91c8.4 0 15.2-6.8 15.2-15.2V15.2c0-8.4-6.8-15.2-15.2-15.2-8.4 0-15.2 6.8-15.2 15.2v60.7c.1 8.3 6.8 15.1 15.2 15.1zM60.7 182h60.7v60.7H60.7zM60.7 272.9h60.7v60.7H60.7zM151.6 182h60.7v60.7h-60.7zM151.6 272.9h60.7v60.7h-60.7z"},null,-1),gi=(0,i._)("path",{d:"M30 361.2v-210h334c.2 70.7.4 141.4.7 212.1 9.8 0 19.6-.1 29.3-.1V93.6c0-18.5-14.5-33.4-32.5-33.4H349v15.2c0 16.7-13.7 30.3-30.5 30.3S288 92.1 288 75.4V60.2H106v15.2c0 16.7-13.7 30.3-30.5 30.3S45 92.1 45 75.4V60.2H32.5c-18 0-32.5 15-32.5 33.4v267.2c0 9.2 3.6 17.5 9.5 23.6 7.8 8.1 18.5 9.3 23 9.8 22.1 2.4 165.3 2.9 361.5 1v-32c-120.5.3-241 .7-361.5 1-.8-1-1.7-2-2.5-3z"},null,-1),_i=(0,i._)("path",{d:"M242.6 182h60.6v60.7h-60.6zM242.6 272.9h60.7v60.7h-60.7z"},null,-1),wi=[vi,gi,_i],bi=["title"],yi={class:"u-icon-modate"},ki={xmlns:"http://www.w3.org/2000/svg",width:"485.213",height:"485.212",viewBox:"0 0 485.213 485.212",fill:"#555","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},zi=(0,i._)("path",{d:"M60.652 75.816V15.163C60.652 6.781 67.433 0 75.817 0c8.38 0 15.161 6.781 15.161 15.163v60.653c0 8.38-6.781 15.161-15.161 15.161-8.384.001-15.165-6.781-15.165-15.161zm257.772 15.162c8.378 0 15.163-6.781 15.163-15.161V15.163C333.587 6.781 326.802 0 318.424 0c-8.382 0-15.168 6.781-15.168 15.163v60.653c0 8.38 6.786 15.162 15.168 15.162zm166.788 272.928c0 66.996-54.312 121.307-121.303 121.307-66.986 0-121.302-54.311-121.302-121.307 0-66.986 54.315-121.3 121.302-121.3 66.991 0 121.303 54.313 121.303 121.3zm-30.322 0c0-50.161-40.81-90.976-90.98-90.976-50.166 0-90.976 40.814-90.976 90.976 0 50.171 40.81 90.98 90.976 90.98 50.17 0 90.98-40.809 90.98-90.98zM121.305 181.955H60.652v60.651h60.653v-60.651zM60.652 333.584h60.653V272.93H60.652v60.654zm90.977-90.978h60.654v-60.651h-60.654v60.651zm0 90.978h60.654V272.93h-60.654v60.654zM30.328 360.891V151.628H363.91v60.653h30.327V94c0-18.421-14.692-33.349-32.843-33.349h-12.647v15.166c0 16.701-13.596 30.325-30.322 30.325-16.731 0-30.326-13.624-30.326-30.325V60.651H106.14v15.166c0 16.701-13.593 30.325-30.322 30.325-16.733 0-30.327-13.624-30.327-30.325V60.651H32.859C14.707 60.651.001 75.579.001 94v266.892c0 18.36 14.706 33.346 32.858 33.346h179.424v-30.331H32.859c-1.374-.001-2.531-1.42-2.531-3.016zm272.928-118.285v-60.651h-60.648v60.651h60.648zm106.143 121.3h-45.49v-45.49c0-8.377-6.781-15.158-15.163-15.158s-15.159 6.781-15.159 15.158v60.658c0 8.378 6.777 15.163 15.159 15.163h60.653c8.382 0 15.163-6.785 15.163-15.163 0-8.382-6.781-15.168-15.163-15.168z"},null,-1),Mi=[zi],xi={class:"u-views u-sub-block"},Ci=["href"],Ii=(0,i._)("span",null,"编辑",-1);function Ai(t,e,a,o,s,l){const r=(0,i.up)("Lock"),u=(0,i.up)("el-icon"),c=(0,i.up)("Delete"),d=(0,i.up)("View"),h=(0,i.up)("Edit");return a.post?((0,i.wg)(),(0,i.iD)("header",Xa,[(0,i._)("div",Ja,[(0,i._)("span",{class:"u-title u-sub-block",href:l.url,title:l.title},[l.isOriginal?((0,i.wg)(),(0,i.iD)("i",ei,"原创")):(0,i.kq)("",!0),"publish"!=a.post.post_status||~~a.post.visible?((0,i.wg)(),(0,i.iD)("i",ai,["draft"==a.post.post_status||"pending"==a.post.post_status||~~a.post.visible?((0,i.wg)(),(0,i.j4)(u,{key:0,color:"#fb9b24"},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1})):(0,i.kq)("",!0),"dustbin"==a.post.post_status?((0,i.wg)(),(0,i.j4)(u,{key:1,color:"#c00"},{default:(0,i.w5)((()=>[(0,i.Wm)(c)])),_:1})):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("span",ii,(0,n.zw)(l.title),1)],8,ti)]),(0,i._)("div",ni,[(0,i._)("div",oi,[(0,i._)("i",si,[((0,i.wg)(),(0,i.iD)("svg",li,ui))]),(0,i._)("a",{class:"u-name",href:l.author_link},(0,n.zw)(l.author_name),9,ci)]),(0,i.WI)(t.$slots,"default"),(0,i._)("div",di,[hi,(0,i._)("span",{class:(0,n.C_)(["u-value u-client",l.client])},(0,n.zw)(l.showClientLabel(l.client)),3)]),(0,i._)("span",{class:"u-podate u-sub-block",title:"发布日期:"+l.post_time},[(0,i._)("i",fi,[((0,i.wg)(),(0,i.iD)("svg",mi,wi))]),(0,i._)("time",null,(0,n.zw)(l.post_date),1)],8,pi),(0,i._)("span",{class:"u-modate u-sub-block",title:"最后更新:"+l.update_time},[(0,i._)("i",yi,[((0,i.wg)(),(0,i.iD)("svg",ki,Mi))]),(0,i._)("time",null,(0,n.zw)(l.update_date),1)],8,bi),(0,i._)("span",xi,[(0,i.Wm)(u,{size:15},{default:(0,i.w5)((()=>[(0,i.Wm)(d)])),_:1}),(0,i.Uk)(" "+(0,n.zw)(l.views),1)]),(0,i._)("a",{class:"u-edit u-sub-block",href:l.edit_link},[(0,i.Wm)(u,{class:"u-icon-edit",size:16},{default:(0,i.w5)((()=>[(0,i.Wm)(h)])),_:1}),Ii],8,Ci)])])):(0,i.kq)("",!0)}var Ei=a(26060);const{__clients:Ti}=a(89847);var Di={name:"PostHeader",props:["post","stat"],data:function(){return{}},computed:{url:function(){return location.href},isOriginal:function(){return!!~~this.post?.original},title:function(){return this.post?.post_title||"无标题"},author_link:function(){return(0,U.authorLink)(this.post?.post_author)},author_name:function(){return this.post?.author_info?.display_name||"匿名"},post_date:function(){return(0,Ei.s2)(new Date(this.post?.post_date))},update_date:function(){return(0,Ei.s2)(new Date(this.post?.post_modified))},post_time:function(){return(0,Ei.f3)(new Date(this.post?.post_date))},update_time:function(){return(0,Ei.f3)(new Date(this.post?.post_modified))},views:function(){return this.stat?.views||"-"},edit_link:function(){return(0,U.editLink)(this.post?.post_type,this.post?.ID)},canEdit:function(){return this.post?.post_author==dt.Z.getInfo().uid||dt.Z.isEditor()},client:function(){return this.post?.client||"std"}},methods:{showClientLabel:function(t){return Ti[t]}},mounted:function(){}};const Li=(0,bt.Z)(Di,[["render",Ai]]);var Ri=Li;const Ni={class:"w-thx"},Si={class:"w-thx-panel"},Hi={class:"w-thx-records"},Pi=(0,i._)("div",{class:"w-thx-copyright"},[(0,i.Uk)(" © 所有原创作品，著作权归作者所有，所有未经授权的非署名转载或抄袭将有权追究法律责任，所有法律事务由专聘律师代理。"),(0,i._)("br"),(0,i.Uk)(" 签约作者独家特约稿件，及所有魔盒官方评分作品用户一经兑现则视为有偿付费稿件，所有商业稿件的转载引用需同时征得魔盒平台授权。 ")],-1);function Ui(t,e,a,n,o,s){const l=(0,i.up)("boxcoin-admin"),r=(0,i.up)("Like"),u=(0,i.up)("fav"),c=(0,i.up)("boxcoin-user"),d=(0,i.up)("Share"),h=(0,i.up)("boxcoin-records");return(0,i.wg)(),(0,i.iD)("div",Ni,[(0,i._)("div",Si,[t.hasRight&&a.adminBoxcoinEnable&&t.boxcoin_enable?((0,i.wg)(),(0,i.j4)(l,{key:0,postId:a.postId,postType:a.postType,userId:a.userId,max:t.admin_max,min:t.admin_min,own:t.admin_left,total:t.admin_total,points:t.admin_points,authors:a.authors,onUpdateRecord:s.updateRecord,client:a.client},null,8,["postId","postType","userId","max","min","own","total","points","authors","onUpdateRecord","client"])):(0,i.kq)("",!0),(0,i.Wm)(r,{postId:a.postId,postType:a.postType},null,8,["postId","postType"]),(0,i.Wm)(u,{postId:a.postId,postType:a.postType,postTitle:a.postTitle},null,8,["postId","postType","postTitle"]),a.userBoxcoinEnable&&t.boxcoin_enable&&a.allowGift?((0,i.wg)(),(0,i.j4)(c,{key:1,postId:a.postId,postType:a.postType,boxcoin:t.boxcoin,userId:a.userId,own:t.user_left,points:t.user_points,authors:a.authors,onUpdateRecord:s.updateRecord,client:a.client},null,8,["postId","postType","boxcoin","userId","own","points","authors","onUpdateRecord","client"])):(0,i.kq)("",!0),(0,i.Wm)(d,{postId:a.postId,postType:a.postType,client:a.client},null,8,["postId","postType","client"])]),(0,i._)("div",Hi,[(0,i.Wm)(h,{postId:a.postId,postType:a.postType,postClient:a.client,cacheRecord:t.cacheRecord,mode:a.mode,"onUpdate:boxcoin":s.updateBoxcoin},null,8,["postId","postType","postClient","cacheRecord","mode","onUpdate:boxcoin"])]),Pi])}var Bi=a(63553),qi=a(57039),Wi=a(65801),Vi=a(5856),Oi=a(78401);const Fi={class:"w-share2"},$i={class:"u-share2-content"},Zi={class:"u-share2-content-main"},Yi=["onClick"],Qi=["src","alt"],ji={class:"u-share2-name"},Gi={class:"u-share2-wechat"},Ki=(0,i._)("span",null,"微信扫一扫分享",-1),Xi={key:0},Ji={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 481.6 481.6",class:(0,n.C_)("u-icon u-simple-icon"),"svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},tn=(0,i._)("path",{d:"M381.6 309.4c-27.7 0-52.4 13.2-68.2 33.6l-132.3-73.9c3.1-8.9 4.8-18.5 4.8-28.4 0-10-1.7-19.5-4.9-28.5l132.2-73.8c15.7 20.5 40.5 33.8 68.3 33.8 47.4 0 86.1-38.6 86.1-86.1S429 0 381.5 0s-86.1 38.6-86.1 86.1c0 10 1.7 19.6 4.9 28.5l-132.1 73.8c-15.7-20.6-40.5-33.8-68.3-33.8-47.4 0-86.1 38.6-86.1 86.1s38.7 86.1 86.2 86.1c27.8 0 52.6-13.3 68.4-33.9l132.2 73.9c-3.2 9-5 18.7-5 28.7 0 47.4 38.6 86.1 86.1 86.1s86.1-38.6 86.1-86.1-38.7-86.1-86.2-86.1zm0-282.3c32.6 0 59.1 26.5 59.1 59.1s-26.5 59.1-59.1 59.1-59.1-26.5-59.1-59.1 26.6-59.1 59.1-59.1zM100 299.8c-32.6 0-59.1-26.5-59.1-59.1s26.5-59.1 59.1-59.1 59.1 26.5 59.1 59.1-26.6 59.1-59.1 59.1zm281.6 154.7c-32.6 0-59.1-26.5-59.1-59.1s26.5-59.1 59.1-59.1 59.1 26.5 59.1 59.1-26.5 59.1-59.1 59.1z"},null,-1),en=[tn],an=(0,i._)("span",{class:"u-text"},"分享",-1),nn={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 768 768",class:(0,n.C_)("u-icon"),"svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"},on=(0,i._)("path",{class:"st0",d:"M540.2 8.1c5.6 4.2 11.8 7.8 16.6 12.7 65.8 68 131.3 136.1 196.9 204.3 11.4 11.8 11.5 24.7.3 36.3-66.6 69.3-133.2 138.4-199.8 207.6-6.9 7.2-14.7 11.5-24.9 9-11.5-2.8-18.1-12-18.1-25.3-.1-30.1 0-60.3 0-90.4V354c-19.9 0-39.3-1.4-58.4.3-66.1 5.6-122.3 32.7-167.9 81.1-16.9 17.9-30.5 38.2-41.9 60.1-8.4 16.1-27.7 19.3-39 6.4-3.2-3.6-6-9-6-13.7-.6-40.4-2.2-80.9 8.3-120.5 28-105.7 93.5-177.7 195.4-216.5 32.6-12.4 66.7-17.2 101.5-17.7 2 0 3.9-.1 5.9-.2.4 0 .8-.4 2.1-1v-7.5c0-28.2.4-56.4-.2-84.5-.3-14.5 3.5-25.9 17.5-32.1 3.9-.1 7.8-.1 11.7-.1z",fill:"#2296f2"},null,-1),sn=(0,i._)("path",{class:"st1",d:"M9.3 212.5c.9-2.2 2-4.3 2.6-6.5 10.5-42.1 46.4-71.5 89.8-72.4 31.6-.7 63.2-.4 94.8-.1 19 .1 32.3 13.7 32.2 31.9-.1 17.9-13.9 30.9-33 31-29.9.1-59.8 0-89.7 0-20.8 0-33.7 12.7-33.7 33.2v435.3c0 20.7 12.7 33.3 33.6 33.3h560.3c20.7 0 33.2-12.7 33.3-33.6.1-81.9 0-163.7 0-245.6 0-19.8 12.7-33.9 30.7-34.4 17.7-.4 31.9 13.2 32.2 31.1.2 16.4.1 32.8.1 49.3v198.5c0 56.9-40.8 97.6-97.9 97.6H108.7c-50.4 0-85.3-27.3-97.7-76.4-.3-1.1-1-2-1.6-3-.1-156.4-.1-312.8-.1-469.2z",fill:"#617d8b"},null,-1),ln=[on,sn];function rn(t,e,a,o,s,l){const r=(0,i.up)("qrcode-vue"),u=(0,i.up)("el-popover");return(0,i.wg)(),(0,i.iD)("div",Fi,[(0,i.Wm)(u,{trigger:"hover",placement:"right","popper-class":"u-share2-pop",width:"auto"},{reference:(0,i.w5)((()=>[a.simple?((0,i.wg)(),(0,i.iD)("div",Xi,[((0,i.wg)(),(0,i.iD)("svg",Ji,en)),an])):((0,i.wg)(),(0,i.iD)("svg",nn,ln))])),default:(0,i.w5)((()=>[(0,i._)("div",$i,[(0,i._)("div",Zi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.shareList,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"u-share2-item",key:t.key,onClick:e=>l.share(t.key),title:"分享"},[(0,i._)("img",{class:"u-share-icon","svg-inline":"",src:t.img,alt:t.name},null,8,Qi),(0,i._)("div",ji,(0,n.zw)(t.name),1)],8,Yi)))),128))]),(0,i._)("div",Gi,[(0,i.Wm)(r,{class:"u-pic",value:l.url.href,size:75,level:"H"},null,8,["value"]),Ki])])])),_:1})])}var un,cn=a(2262),dn=function(){return dn=Object.assign||function(t){for(var e,a=1,i=arguments.length;a<i;a++)for(var n in e=arguments[a],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},dn.apply(this,arguments)};"function"===typeof SuppressedError&&SuppressedError,function(t){var e=function(){function e(t,a,i,o){if(this.version=t,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=4*t+17;for(var s=[],l=0;l<this.size;l++)s.push(!1);for(l=0;l<this.size;l++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();var r=this.addEccAndInterleave(i);if(this.drawCodewords(r),-1==o){var u=1e9;for(l=0;l<8;l++){this.applyMask(l),this.drawFormatBits(l);var c=this.getPenaltyScore();c<u&&(o=l,u=c),this.applyMask(l)}}n(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}return e.encodeText=function(a,i){var n=t.QrSegment.makeSegments(a);return e.encodeSegments(n,i)},e.encodeBinary=function(a,i){var n=t.QrSegment.makeBytes(a);return e.encodeSegments([n],i)},e.encodeSegments=function(t,i,s,l,r,u){if(void 0===s&&(s=1),void 0===l&&(l=40),void 0===r&&(r=-1),void 0===u&&(u=!0),!(e.MIN_VERSION<=s&&s<=l&&l<=e.MAX_VERSION)||r<-1||r>7)throw new RangeError("Invalid value");var c,d;for(c=s;;c++){var h=8*e.getNumDataCodewords(c,i),p=o.getTotalBits(t,c);if(p<=h){d=p;break}if(c>=l)throw new RangeError("Data too long")}for(var f=0,m=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];f<m.length;f++){var v=m[f];u&&d<=8*e.getNumDataCodewords(c,v)&&(i=v)}for(var g=[],_=0,w=t;_<w.length;_++){var b=w[_];a(b.mode.modeBits,4,g),a(b.numChars,b.mode.numCharCountBits(c),g);for(var y=0,k=b.getData();y<k.length;y++){var z=k[y];g.push(z)}}n(g.length==d);var M=8*e.getNumDataCodewords(c,i);n(g.length<=M),a(0,Math.min(4,M-g.length),g),a(0,(8-g.length%8)%8,g),n(g.length%8==0);for(var x=236;g.length<M;x^=253)a(x,8,g);var C=[];while(8*C.length<g.length)C.push(0);return g.forEach((function(t,e){return C[e>>>3]|=t<<7-(7&e)})),new e(c,i,C,r)},e.prototype.getModule=function(t,e){return 0<=t&&t<this.size&&0<=e&&e<this.size&&this.modules[e][t]},e.prototype.getModules=function(){return this.modules},e.prototype.drawFunctionPatterns=function(){for(var t=0;t<this.size;t++)this.setFunctionModule(6,t,t%2==0),this.setFunctionModule(t,6,t%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var e=this.getAlignmentPatternPositions(),a=e.length;for(t=0;t<a;t++)for(var i=0;i<a;i++)0==t&&0==i||0==t&&i==a-1||t==a-1&&0==i||this.drawAlignmentPattern(e[t],e[i]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(t){for(var e=this.errorCorrectionLevel.formatBits<<3|t,a=e,o=0;o<10;o++)a=a<<1^1335*(a>>>9);var s=21522^(e<<10|a);n(s>>>15==0);for(o=0;o<=5;o++)this.setFunctionModule(8,o,i(s,o));this.setFunctionModule(8,7,i(s,6)),this.setFunctionModule(8,8,i(s,7)),this.setFunctionModule(7,8,i(s,8));for(o=9;o<15;o++)this.setFunctionModule(14-o,8,i(s,o));for(o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,i(s,o));for(o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,i(s,o));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var t=this.version,e=0;e<12;e++)t=t<<1^7973*(t>>>11);var a=this.version<<12|t;n(a>>>18==0);for(e=0;e<18;e++){var o=i(a,e),s=this.size-11+e%3,l=Math.floor(e/3);this.setFunctionModule(s,l,o),this.setFunctionModule(l,s,o)}}},e.prototype.drawFinderPattern=function(t,e){for(var a=-4;a<=4;a++)for(var i=-4;i<=4;i++){var n=Math.max(Math.abs(i),Math.abs(a)),o=t+i,s=e+a;0<=o&&o<this.size&&0<=s&&s<this.size&&this.setFunctionModule(o,s,2!=n&&4!=n)}},e.prototype.drawAlignmentPattern=function(t,e){for(var a=-2;a<=2;a++)for(var i=-2;i<=2;i++)this.setFunctionModule(t+i,e+a,1!=Math.max(Math.abs(i),Math.abs(a)))},e.prototype.setFunctionModule=function(t,e,a){this.modules[e][t]=a,this.isFunction[e][t]=!0},e.prototype.addEccAndInterleave=function(t){var a=this.version,i=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(a,i))throw new RangeError("Invalid argument");for(var o=e.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][a],s=e.ECC_CODEWORDS_PER_BLOCK[i.ordinal][a],l=Math.floor(e.getNumRawDataModules(a)/8),r=o-l%o,u=Math.floor(l/o),c=[],d=e.reedSolomonComputeDivisor(s),h=0,p=0;h<o;h++){var f=t.slice(p,p+u-s+(h<r?0:1));p+=f.length;var m=e.reedSolomonComputeRemainder(f,d);h<r&&f.push(0),c.push(f.concat(m))}var v=[],g=function(t){c.forEach((function(e,a){(t!=u-s||a>=r)&&v.push(e[t])}))};for(h=0;h<c[0].length;h++)g(h);return n(v.length==l),v},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var a=0,o=this.size-1;o>=1;o-=2){6==o&&(o=5);for(var s=0;s<this.size;s++)for(var l=0;l<2;l++){var r=o-l,u=0==(o+1&2),c=u?this.size-1-s:s;!this.isFunction[c][r]&&a<8*t.length&&(this.modules[c][r]=i(t[a>>>3],7-(7&a)),a++)}}n(a==8*t.length)},e.prototype.applyMask=function(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(var e=0;e<this.size;e++)for(var a=0;a<this.size;a++){var i=void 0;switch(t){case 0:i=(a+e)%2==0;break;case 1:i=e%2==0;break;case 2:i=a%3==0;break;case 3:i=(a+e)%3==0;break;case 4:i=(Math.floor(a/3)+Math.floor(e/2))%2==0;break;case 5:i=a*e%2+a*e%3==0;break;case 6:i=(a*e%2+a*e%3)%2==0;break;case 7:i=((a+e)%2+a*e%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[e][a]&&i&&(this.modules[e][a]=!this.modules[e][a])}},e.prototype.getPenaltyScore=function(){for(var t=0,a=0;a<this.size;a++){for(var i=!1,o=0,s=[0,0,0,0,0,0,0],l=0;l<this.size;l++)this.modules[a][l]==i?(o++,5==o?t+=e.PENALTY_N1:o>5&&t++):(this.finderPenaltyAddHistory(o,s),i||(t+=this.finderPenaltyCountPatterns(s)*e.PENALTY_N3),i=this.modules[a][l],o=1);t+=this.finderPenaltyTerminateAndCount(i,o,s)*e.PENALTY_N3}for(l=0;l<this.size;l++){i=!1;var r=0;for(s=[0,0,0,0,0,0,0],a=0;a<this.size;a++)this.modules[a][l]==i?(r++,5==r?t+=e.PENALTY_N1:r>5&&t++):(this.finderPenaltyAddHistory(r,s),i||(t+=this.finderPenaltyCountPatterns(s)*e.PENALTY_N3),i=this.modules[a][l],r=1);t+=this.finderPenaltyTerminateAndCount(i,r,s)*e.PENALTY_N3}for(a=0;a<this.size-1;a++)for(l=0;l<this.size-1;l++){var u=this.modules[a][l];u==this.modules[a][l+1]&&u==this.modules[a+1][l]&&u==this.modules[a+1][l+1]&&(t+=e.PENALTY_N2)}for(var c=0,d=0,h=this.modules;d<h.length;d++){var p=h[d];c=p.reduce((function(t,e){return t+(e?1:0)}),c)}var f=this.size*this.size,m=Math.ceil(Math.abs(20*c-10*f)/f)-1;return n(0<=m&&m<=9),t+=m*e.PENALTY_N4,n(0<=t&&t<=2568888),t},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var t=Math.floor(this.version/7)+2,e=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*t-2)),a=[6],i=this.size-7;a.length<t;i-=e)a.splice(1,0,i);return a},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw new RangeError("Version number out of range");var a=(16*t+128)*t+64;if(t>=2){var i=Math.floor(t/7)+2;a-=(25*i-10)*i-55,t>=7&&(a-=36)}return n(208<=a&&a<=29648),a},e.getNumDataCodewords=function(t,a){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[a.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][t]},e.reedSolomonComputeDivisor=function(t){if(t<1||t>255)throw new RangeError("Degree out of range");for(var a=[],i=0;i<t-1;i++)a.push(0);a.push(1);var n=1;for(i=0;i<t;i++){for(var o=0;o<a.length;o++)a[o]=e.reedSolomonMultiply(a[o],n),o+1<a.length&&(a[o]^=a[o+1]);n=e.reedSolomonMultiply(n,2)}return a},e.reedSolomonComputeRemainder=function(t,a){for(var i=a.map((function(t){return 0})),n=function(t){var n=t^i.shift();i.push(0),a.forEach((function(t,a){return i[a]^=e.reedSolomonMultiply(t,n)}))},o=0,s=t;o<s.length;o++){var l=s[o];n(l)}return i},e.reedSolomonMultiply=function(t,e){if(t>>>8!=0||e>>>8!=0)throw new RangeError("Byte out of range");for(var a=0,i=7;i>=0;i--)a=a<<1^285*(a>>>7),a^=(e>>>i&1)*t;return n(a>>>8==0),a},e.prototype.finderPenaltyCountPatterns=function(t){var e=t[1];n(e<=3*this.size);var a=e>0&&t[2]==e&&t[3]==3*e&&t[4]==e&&t[5]==e;return(a&&t[0]>=4*e&&t[6]>=e?1:0)+(a&&t[6]>=4*e&&t[0]>=e?1:0)},e.prototype.finderPenaltyTerminateAndCount=function(t,e,a){return t&&(this.finderPenaltyAddHistory(e,a),e=0),e+=this.size,this.finderPenaltyAddHistory(e,a),this.finderPenaltyCountPatterns(a)},e.prototype.finderPenaltyAddHistory=function(t,e){0==e[0]&&(t+=this.size),e.pop(),e.unshift(t)},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function a(t,e,a){if(e<0||e>31||t>>>e!=0)throw new RangeError("Value out of range");for(var i=e-1;i>=0;i--)a.push(t>>>i&1)}function i(t,e){return 0!=(t>>>e&1)}function n(t){if(!t)throw new Error("Assertion error")}t.QrCode=e;var o=function(){function t(t,e,a){if(this.mode=t,this.numChars=e,this.bitData=a,e<0)throw new RangeError("Invalid argument");this.bitData=a.slice()}return t.makeBytes=function(e){for(var i=[],n=0,o=e;n<o.length;n++){var s=o[n];a(s,8,i)}return new t(t.Mode.BYTE,e.length,i)},t.makeNumeric=function(e){if(!t.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var i=[],n=0;n<e.length;){var o=Math.min(e.length-n,3);a(parseInt(e.substring(n,n+o),10),3*o+1,i),n+=o}return new t(t.Mode.NUMERIC,e.length,i)},t.makeAlphanumeric=function(e){if(!t.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var i,n=[];for(i=0;i+2<=e.length;i+=2){var o=45*t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(i));o+=t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(i+1)),a(o,11,n)}return i<e.length&&a(t.ALPHANUMERIC_CHARSET.indexOf(e.charAt(i)),6,n),new t(t.Mode.ALPHANUMERIC,e.length,n)},t.makeSegments=function(e){return""==e?[]:t.isNumeric(e)?[t.makeNumeric(e)]:t.isAlphanumeric(e)?[t.makeAlphanumeric(e)]:[t.makeBytes(t.toUtf8ByteArray(e))]},t.makeEci=function(e){var i=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)a(e,8,i);else if(e<16384)a(2,2,i),a(e,14,i);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");a(6,3,i),a(e,21,i)}return new t(t.Mode.ECI,0,i)},t.isNumeric=function(e){return t.NUMERIC_REGEX.test(e)},t.isAlphanumeric=function(e){return t.ALPHANUMERIC_REGEX.test(e)},t.prototype.getData=function(){return this.bitData.slice()},t.getTotalBits=function(t,e){for(var a=0,i=0,n=t;i<n.length;i++){var o=n[i],s=o.mode.numCharCountBits(e);if(o.numChars>=1<<s)return 1/0;a+=4+s+o.bitData.length}return a},t.toUtf8ByteArray=function(t){t=encodeURI(t);for(var e=[],a=0;a<t.length;a++)"%"!=t.charAt(a)?e.push(t.charCodeAt(a)):(e.push(parseInt(t.substring(a+1,a+3),16)),a+=2);return e},t.NUMERIC_REGEX=/^[0-9]*$/,t.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,t.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t}();t.QrSegment=o}(un||(un={})),function(t){(function(t){var e=function(){function t(t,e){this.ordinal=t,this.formatBits=e}return t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),t}();t.Ecc=e})(t.QrCode||(t.QrCode={}))}(un||(un={})),function(t){(function(t){var e=function(){function t(t,e){this.modeBits=t,this.numBitsCharCount=e}return t.prototype.numCharCountBits=function(t){return this.numBitsCharCount[Math.floor((t+7)/17)]},t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),t}();t.Mode=e})(t.QrSegment||(t.QrSegment={}))}(un||(un={}));var hn=un,pn="H",fn={L:hn.QrCode.Ecc.LOW,M:hn.QrCode.Ecc.MEDIUM,Q:hn.QrCode.Ecc.QUARTILE,H:hn.QrCode.Ecc.HIGH},mn=function(){try{(new Path2D).addPath(new Path2D)}catch(t){return!1}return!0}();function vn(t){return t in fn}function gn(t,e){void 0===e&&(e=0);var a=[];return t.forEach((function(t,i){var n=null;t.forEach((function(o,s){if(!o&&null!==n)return a.push("M".concat(n+e," ").concat(i+e,"h").concat(s-n,"v1H").concat(n+e,"z")),void(n=null);if(s!==t.length-1)o&&null===n&&(n=s);else{if(!o)return;null===n?a.push("M".concat(s+e,",").concat(i+e," h1v1H").concat(s+e,"z")):a.push("M".concat(n+e,",").concat(i+e," h").concat(s+1-n,"v1H").concat(n+e,"z"))}}))})),a.join("")}var _n={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:pn,validator:function(t){return vn(t)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},wn=dn(dn({},_n),{renderAs:{type:String,required:!1,default:"canvas",validator:function(t){return["canvas","svg"].indexOf(t)>-1}}}),bn=(0,i.aZ)({name:"QRCodeSvg",props:_n,setup:function(t){var e=(0,cn.iH)(0),a=(0,cn.iH)(""),n=function(){var i=t.value,n=t.level,o=t.margin,s=hn.QrCode.encodeText(i,fn[n]).getModules();e.value=s.length+2*o,a.value=gn(s,o)};return n(),(0,i.ic)(n),function(){return(0,i.h)("svg",{width:t.size,height:t.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(e.value," ").concat(e.value)},[(0,i.h)("path",{fill:t.background,d:"M0,0 h".concat(e.value,"v").concat(e.value,"H0z")}),(0,i.h)("path",{fill:t.foreground,d:a.value})])}}}),yn=(0,i.aZ)({name:"QRCodeCanvas",props:_n,setup:function(t){var e=(0,cn.iH)(null),a=function(){var a=t.value,i=t.level,n=t.size,o=t.margin,s=t.background,l=t.foreground,r=e.value;if(r){var u=r.getContext("2d");if(u){var c=hn.QrCode.encodeText(a,fn[i]).getModules(),d=c.length+2*o,h=window.devicePixelRatio||1,p=n/d*h;r.height=r.width=n*h,u.scale(p,p),u.fillStyle=s,u.fillRect(0,0,d,d),u.fillStyle=l,mn?u.fill(new Path2D(gn(c,o))):c.forEach((function(t,e){t.forEach((function(t,a){t&&u.fillRect(a+o,e+o,1,1)}))}))}}};return(0,i.bv)(a),(0,i.ic)(a),function(){return(0,i.h)("canvas",{ref:e,style:{width:"".concat(t.size,"px"),height:"".concat(t.size,"px")}})}}}),kn=(0,i.aZ)({name:"Qrcode",render:function(){var t=this.$props,e=t.renderAs,a=t.value,n=t.size,o=t.margin,s=t.level,l=t.background,r=t.foreground,u=n>>>0,c=o>>>0,d=vn(s)?s:pn;return(0,i.h)("svg"===e?bn:yn,{value:a,size:u,margin:c,level:d,background:l,foreground:r})},props:wn});const{__imgPath:zn}=V;var Mn={name:"ShareComp",props:["postType","postId","meta","simple"],data:function(){return{apis:{qzone:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",qq:"http://connect.qq.com/widget/shareqq/index.html?",wechat:"",weibo:"https://service.weibo.com/share/share.php?",tieba:"http://tieba.baidu.com/f/commit/share/openShareApi?"},shareList:[{name:"微博",key:"weibo",img:a(34490)},{name:"QQ",key:"qq",img:a(76066)},{name:"QQ空间",key:"qzone",img:a(94916)},{name:"贴吧",key:"tieba",img:a(32034)}]}},computed:{ready(){return!(!this.postType||!this.postId)},url(){return document.location},title(){return this.meta?.title||document.title},pic:function(){return this.meta?.banner||zn+"image/common/logo.png"},urls:function(){return{qzone:this.shareToQzone,weibo:this.shareToWeibo,tieba:this.shareToTieba,qq:this.shareToQQ}}},methods:{init:function(){},shareToWeibo:function(){return this.apis["weibo"]+`url=${this.url}`+`&title=${this.title}`+`&pic=${this.pic}`},shareToQzone:function(){return this.apis["qzone"]+`url=${this.url}`+`&title=${this.title}&sharesource=qzone`+`&summary=${this.meta?.summary||""}`+`&desc=${this.meta?.desc||""}`+`&pics=${this.pic}`},shareToQQ:function(){return this.apis["qq"]+`url=${this.url}`+`&title=${this.title}`+`&pics=${this.pic}`},shareToTieba:function(){return this.apis["tieba"]+`url=${this.url}`+`&title=${this.title}`+`&summary=${this.meta?.summary||""}`+`&desc=${this.meta?.desc||""}`+`&pic=${this.pic}`},share:function(t){window.open(this.urls[t](),"_blank")}},mounted:function(){this.init()},components:{QrcodeVue:kn}};const xn=(0,bt.Z)(Mn,[["render",rn]]);var Cn=xn,In={name:"ThxComp",components:{Like:Bi.Z,Fav:qi.Z,BoxcoinAdmin:Wi.Z,BoxcoinUser:Vi.Z,BoxcoinRecords:Oi.Z,Share:Cn},props:{type:{type:String,default:"normal"},postId:{type:Number,default:0},postType:{type:String,default:""},postTitle:{type:String,default:""},userId:{type:Number,default:0},authors:{type:Array,default:()=>[]},mode:{type:String,default:"normal"},client:{type:String,default:"std"},allowGift:{type:[Number,Boolean],default:1},adminBoxcoinEnable:{type:Boolean,default:!1},userBoxcoinEnable:{type:Boolean,default:!1}},data:function(){return{boxcoin:0,hasRight:dt.Z.getInfo().group>=32,user:dt.Z.getInfo(),admin_max:0,admin_min:0,admin_left:0,admin_total:0,admin_points:[100],user_left:0,user_points:[100],cacheRecord:null,boxcoin_enable:0,showDrawer:!1}},computed:{post_keys:function(){return[this.postId,this.postType]}},watch:{post_keys:{immediate:!0,deep:!0,handler:function(){this.postType&&this.postId&&this.loadBoxcoinConfig()}}},methods:{loadBoxcoinConfig:function(){dt.Z.isLogin()&&(0,ce.PD)(this.postType).then((t=>{this.admin_max=t.data.data.limit.admin_max||0,this.admin_min=t.data.data.limit.admin_min||0,this.admin_points=t.data.data.limit.admin_points||[10,1e3],this.admin_left=t.data.data.asManagerBoxCoinRemain||0,this.admin_total=t.data.data.asManagerBoxCoinTotal||0,this.user_points=t.data.data.limit.user_points||[10,1e3],"origin"==this.client?this.user_left=t.data.data.asUserBoxCoinRemainOrigin+t.data.data.asUserBoxCoinRemainAll:"std"==this.client?this.user_left=t.data.data.asUserBoxCoinRemainStd+t.data.data.asUserBoxCoinRemainAll:this.user_left=t.data.data.asUserBoxCoinRemainAll+t.data.data.asUserBoxCoinRemainStd+t.data.data.asUserBoxCoinRemainOrigin})),(0,ce.hq)().then((t=>{this.boxcoin_enable=!!~~t.data?.data?.val}))},updateRecord:function(t){this.cacheRecord=t},updateBoxcoin:function(t){this.boxcoin=t}}};const An=(0,bt.Z)(In,[["render",Ui]]);var En=An,Tn=a(72457);const Dn=F.mx;var Ln={name:"PvpSingle",components:{SingleLayout:Ka,PostHeader:Ri,Thx:En,Comment:Tn.Z},data(){return{post:{},stat:{},loading:!1,talentDriver:null,authors:[]}},computed:{id(){return~~this.$route.params.id},post_type:function(){var t;return null===(t=this.post)||void 0===t?void 0:t.post_type},post_title:function(){var t;return null===(t=this.post)||void 0===t?void 0:t.post_title},author_id:function(){var t;return null===(t=this.post)||void 0===t?void 0:t.post_author},post_subtype:function(){var t;return(null===this||void 0===this||null===(t=this.post)||void 0===t?void 0:t.post_subtype)||"其它"},xf:function(){var t;return null===(t=this.post)||void 0===t?void 0:t.post_subtype},xficon_id:function(){var t;return this.xf&&(null===(t=O[this.xf])||void 0===t?void 0:t.id)},zlp:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.zlp)||"未知"},data(){return this.post},talent(){try{var t,e;return JSON.parse(null===(t=this.data)||void 0===t||null===(e=t.post_meta)||void 0===e?void 0:e.talent)}catch(a){return{}}},skills(){var t,e;return null===(t=this.data)||void 0===t||null===(e=t.post_meta)||void 0===e?void 0:e.data},visible:function(){var t;return!(null===(t=this.post)||void 0===t||!t._check)},null_tip:function(){var t;let e="作者设置了【";return e+=V.__visibleMap[null===(t=this.post)||void 0===t?void 0:t.visible],e+="】",e},post_client:function(){var t;return(null===(t=this.post)||void 0===t?void 0:t.client)||"all"},allow_gift:function(){var t;return null===(t=this.post)||void 0===t?void 0:t.allow_gift},allow_comment:function(){var t;return!(null!==(t=this.post)&&void 0!==t&&t.comment)}},mounted(){this.loadData()},methods:{showAvatar(t){return(0,U.showAvatar)(t,264)},authorLink:U.authorLink,iconLink:U.iconLink,getAppIcon:U.getAppIcon,nl2br(t){return t&&t.replace(/\n/g,"<br/>")},loadData(){this.id&&(this.loading=!0,(0,q.xl)(this.id).then((t=>{var e,a,i;this.post=t.data.data,(0,B.o)().userId=null===(e=this.post)||void 0===e?void 0:e.post_author,(0,B.o)().postId=null===(a=this.post)||void 0===a?void 0:a.ID,(0,B.o)().post=this.post,document.title=null===(i=this.post)||void 0===i?void 0:i.post_title,this.$nextTick((()=>{this.installTalent()}))})).finally((()=>{this.loading=!1})),(0,W.WG)(Dn,this.id).then((t=>{this.stat=t.data})),(0,W.tU)(Dn,this.id))},xficon:function(t){return V.__imgPath+"image/xf/"+t+".png"},installTalent(){var t;this.talentDriver=new $.Z({container:`.m-qx-container-${null===(t=this.data)||void 0===t?void 0:t.ID}`,version:this.talent.version,xf:this.talent.xf,editable:!1,sq:this.talent.sq})}}};const Rn=(0,bt.Z)(Ln,[["render",P]]);var Nn=Rn},74615:function(t,e,a){"use strict";t.exports=a.p+"img/bilibili.ef44695d.svg"},17521:function(t,e,a){"use strict";t.exports=a.p+"img/douyu.430349ce.svg"},69857:function(t,e,a){"use strict";t.exports=a.p+"img/github.e3ed5550.svg"},31159:function(t,e,a){"use strict";t.exports=a.p+"img/huya.a0cbd86f.svg"},10192:function(t,e,a){"use strict";t.exports=a.p+"img/msg.f608a070.svg"},88232:function(t,e,a){"use strict";t.exports=a.p+"img/weibo.ebb2fa3b.svg"},76066:function(t,e,a){"use strict";t.exports=a.p+"img/qq.a2493784.svg"},94916:function(t,e,a){"use strict";t.exports=a.p+"img/qzone.36b47b3f.svg"},32034:function(t,e,a){"use strict";t.exports=a.p+"img/tieba.9a91fcdb.svg"},34490:function(t,e,a){"use strict";t.exports=a.p+"img/weibo.7ae9251e.svg"},60063:function(t){"use strict";t.exports={mx:"pvp"}}}]);
//# sourceMappingURL=247.d781f010.js.map